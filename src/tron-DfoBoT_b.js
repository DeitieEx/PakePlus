import{g as ln,a as I0,c as bn}from"./vendor-CaWiHykE.js";var kr={exports:{}};const pn={},vn=Object.freeze(Object.defineProperty({__proto__:null,default:pn},Symbol.toStringTag,{value:"Module"})),mn=ln(vn);kr.exports;(function(r){(function(e,t){function i(g,n){if(!g)throw new Error(n||"Assertion failed")}function o(g,n){g.super_=n;var s=function(){};s.prototype=n.prototype,g.prototype=new s,g.prototype.constructor=g}function f(g,n,s){if(f.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((n==="le"||n==="be")&&(s=n,n=10),this._init(g||0,n||10,s||"be"))}typeof e=="object"?e.exports=f:t.BN=f,f.BN=f,f.wordSize=26;var d;try{typeof window<"u"&&typeof window.Buffer<"u"?d=window.Buffer:d=mn.Buffer}catch{}f.isBN=function(n){return n instanceof f?!0:n!==null&&typeof n=="object"&&n.constructor.wordSize===f.wordSize&&Array.isArray(n.words)},f.max=function(n,s){return n.cmp(s)>0?n:s},f.min=function(n,s){return n.cmp(s)<0?n:s},f.prototype._init=function(n,s,l){if(typeof n=="number")return this._initNumber(n,s,l);if(typeof n=="object")return this._initArray(n,s,l);s==="hex"&&(s=16),i(s===(s|0)&&s>=2&&s<=36),n=n.toString().replace(/\s+/g,"");var b=0;n[0]==="-"&&(b++,this.negative=1),b<n.length&&(s===16?this._parseHex(n,b,l):(this._parseBase(n,s,b),l==="le"&&this._initArray(this.toArray(),s,l)))},f.prototype._initNumber=function(n,s,l){n<0&&(this.negative=1,n=-n),n<67108864?(this.words=[n&67108863],this.length=1):n<4503599627370496?(this.words=[n&67108863,n/67108864&67108863],this.length=2):(i(n<9007199254740992),this.words=[n&67108863,n/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),s,l)},f.prototype._initArray=function(n,s,l){if(i(typeof n.length=="number"),n.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(n.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var m,S,E=0;if(l==="be")for(b=n.length-1,m=0;b>=0;b-=3)S=n[b]|n[b-1]<<8|n[b-2]<<16,this.words[m]|=S<<E&67108863,this.words[m+1]=S>>>26-E&67108863,E+=24,E>=26&&(E-=26,m++);else if(l==="le")for(b=0,m=0;b<n.length;b+=3)S=n[b]|n[b+1]<<8|n[b+2]<<16,this.words[m]|=S<<E&67108863,this.words[m+1]=S>>>26-E&67108863,E+=24,E>=26&&(E-=26,m++);return this._strip()};function u(g,n){var s=g.charCodeAt(n);if(s>=48&&s<=57)return s-48;if(s>=65&&s<=70)return s-55;if(s>=97&&s<=102)return s-87;i(!1,"Invalid character in "+g)}function p(g,n,s){var l=u(g,s);return s-1>=n&&(l|=u(g,s-1)<<4),l}f.prototype._parseHex=function(n,s,l){this.length=Math.ceil((n.length-s)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var m=0,S=0,E;if(l==="be")for(b=n.length-1;b>=s;b-=2)E=p(n,s,b)<<m,this.words[S]|=E&67108863,m>=18?(m-=18,S+=1,this.words[S]|=E>>>26):m+=8;else{var x=n.length-s;for(b=x%2===0?s+1:s;b<n.length;b+=2)E=p(n,s,b)<<m,this.words[S]|=E&67108863,m>=18?(m-=18,S+=1,this.words[S]|=E>>>26):m+=8}this._strip()};function y(g,n,s,l){for(var b=0,m=0,S=Math.min(g.length,s),E=n;E<S;E++){var x=g.charCodeAt(E)-48;b*=l,x>=49?m=x-49+10:x>=17?m=x-17+10:m=x,i(x>=0&&m<l,"Invalid character"),b+=m}return b}f.prototype._parseBase=function(n,s,l){this.words=[0],this.length=1;for(var b=0,m=1;m<=67108863;m*=s)b++;b--,m=m/s|0;for(var S=n.length-l,E=S%b,x=Math.min(S,S-E)+l,a=0,h=l;h<x;h+=b)a=y(n,h,h+b,s),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(E!==0){var A=1;for(a=y(n,h,n.length,s),h=0;h<E;h++)A*=s;this.imuln(A),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},f.prototype.copy=function(n){n.words=new Array(this.length);for(var s=0;s<this.length;s++)n.words[s]=this.words[s];n.length=this.length,n.negative=this.negative,n.red=this.red};function v(g,n){g.words=n.words,g.length=n.length,g.negative=n.negative,g.red=n.red}if(f.prototype._move=function(n){v(n,this)},f.prototype.clone=function(){var n=new f(null);return this.copy(n),n},f.prototype._expand=function(n){for(;this.length<n;)this.words[this.length++]=0;return this},f.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},f.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{f.prototype[Symbol.for("nodejs.util.inspect.custom")]=w}catch{f.prototype.inspect=w}else f.prototype.inspect=w;function w(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var I=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],F=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];f.prototype.toString=function(n,s){n=n||10,s=s|0||1;var l;if(n===16||n==="hex"){l="";for(var b=0,m=0,S=0;S<this.length;S++){var E=this.words[S],x=((E<<b|m)&16777215).toString(16);m=E>>>24-b&16777215,b+=2,b>=26&&(b-=26,S--),m!==0||S!==this.length-1?l=I[6-x.length]+x+l:l=x+l}for(m!==0&&(l=m.toString(16)+l);l.length%s!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(n===(n|0)&&n>=2&&n<=36){var a=k[n],h=F[n];l="";var A=this.clone();for(A.negative=0;!A.isZero();){var _=A.modrn(h).toString(n);A=A.idivn(h),A.isZero()?l=_+l:l=I[a-_.length]+_+l}for(this.isZero()&&(l="0"+l);l.length%s!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}i(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var n=this.words[0];return this.length===2?n+=this.words[1]*67108864:this.length===3&&this.words[2]===1?n+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-n:n},f.prototype.toJSON=function(){return this.toString(16,2)},d&&(f.prototype.toBuffer=function(n,s){return this.toArrayLike(d,n,s)}),f.prototype.toArray=function(n,s){return this.toArrayLike(Array,n,s)};var C=function(n,s){return n.allocUnsafe?n.allocUnsafe(s):new n(s)};f.prototype.toArrayLike=function(n,s,l){this._strip();var b=this.byteLength(),m=l||Math.max(1,b);i(b<=m,"byte array longer than desired length"),i(m>0,"Requested array length <= 0");var S=C(n,m),E=s==="le"?"LE":"BE";return this["_toArrayLike"+E](S,b),S},f.prototype._toArrayLikeLE=function(n,s){for(var l=0,b=0,m=0,S=0;m<this.length;m++){var E=this.words[m]<<S|b;n[l++]=E&255,l<n.length&&(n[l++]=E>>8&255),l<n.length&&(n[l++]=E>>16&255),S===6?(l<n.length&&(n[l++]=E>>24&255),b=0,S=0):(b=E>>>24,S+=2)}if(l<n.length)for(n[l++]=b;l<n.length;)n[l++]=0},f.prototype._toArrayLikeBE=function(n,s){for(var l=n.length-1,b=0,m=0,S=0;m<this.length;m++){var E=this.words[m]<<S|b;n[l--]=E&255,l>=0&&(n[l--]=E>>8&255),l>=0&&(n[l--]=E>>16&255),S===6?(l>=0&&(n[l--]=E>>24&255),b=0,S=0):(b=E>>>24,S+=2)}if(l>=0)for(n[l--]=b;l>=0;)n[l--]=0},Math.clz32?f.prototype._countBits=function(n){return 32-Math.clz32(n)}:f.prototype._countBits=function(n){var s=n,l=0;return s>=4096&&(l+=13,s>>>=13),s>=64&&(l+=7,s>>>=7),s>=8&&(l+=4,s>>>=4),s>=2&&(l+=2,s>>>=2),l+s},f.prototype._zeroBits=function(n){if(n===0)return 26;var s=n,l=0;return s&8191||(l+=13,s>>>=13),s&127||(l+=7,s>>>=7),s&15||(l+=4,s>>>=4),s&3||(l+=2,s>>>=2),s&1||l++,l},f.prototype.bitLength=function(){var n=this.words[this.length-1],s=this._countBits(n);return(this.length-1)*26+s};function M(g){for(var n=new Array(g.bitLength()),s=0;s<n.length;s++){var l=s/26|0,b=s%26;n[s]=g.words[l]>>>b&1}return n}f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var n=0,s=0;s<this.length;s++){var l=this._zeroBits(this.words[s]);if(n+=l,l!==26)break}return n},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(n){return this.negative!==0?this.abs().inotn(n).iaddn(1):this.clone()},f.prototype.fromTwos=function(n){return this.testn(n-1)?this.notn(n).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return this.negative!==0},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(n){for(;this.length<n.length;)this.words[this.length++]=0;for(var s=0;s<n.length;s++)this.words[s]=this.words[s]|n.words[s];return this._strip()},f.prototype.ior=function(n){return i((this.negative|n.negative)===0),this.iuor(n)},f.prototype.or=function(n){return this.length>n.length?this.clone().ior(n):n.clone().ior(this)},f.prototype.uor=function(n){return this.length>n.length?this.clone().iuor(n):n.clone().iuor(this)},f.prototype.iuand=function(n){var s;this.length>n.length?s=n:s=this;for(var l=0;l<s.length;l++)this.words[l]=this.words[l]&n.words[l];return this.length=s.length,this._strip()},f.prototype.iand=function(n){return i((this.negative|n.negative)===0),this.iuand(n)},f.prototype.and=function(n){return this.length>n.length?this.clone().iand(n):n.clone().iand(this)},f.prototype.uand=function(n){return this.length>n.length?this.clone().iuand(n):n.clone().iuand(this)},f.prototype.iuxor=function(n){var s,l;this.length>n.length?(s=this,l=n):(s=n,l=this);for(var b=0;b<l.length;b++)this.words[b]=s.words[b]^l.words[b];if(this!==s)for(;b<s.length;b++)this.words[b]=s.words[b];return this.length=s.length,this._strip()},f.prototype.ixor=function(n){return i((this.negative|n.negative)===0),this.iuxor(n)},f.prototype.xor=function(n){return this.length>n.length?this.clone().ixor(n):n.clone().ixor(this)},f.prototype.uxor=function(n){return this.length>n.length?this.clone().iuxor(n):n.clone().iuxor(this)},f.prototype.inotn=function(n){i(typeof n=="number"&&n>=0);var s=Math.ceil(n/26)|0,l=n%26;this._expand(s),l>0&&s--;for(var b=0;b<s;b++)this.words[b]=~this.words[b]&67108863;return l>0&&(this.words[b]=~this.words[b]&67108863>>26-l),this._strip()},f.prototype.notn=function(n){return this.clone().inotn(n)},f.prototype.setn=function(n,s){i(typeof n=="number"&&n>=0);var l=n/26|0,b=n%26;return this._expand(l+1),s?this.words[l]=this.words[l]|1<<b:this.words[l]=this.words[l]&~(1<<b),this._strip()},f.prototype.iadd=function(n){var s;if(this.negative!==0&&n.negative===0)return this.negative=0,s=this.isub(n),this.negative^=1,this._normSign();if(this.negative===0&&n.negative!==0)return n.negative=0,s=this.isub(n),n.negative=1,s._normSign();var l,b;this.length>n.length?(l=this,b=n):(l=n,b=this);for(var m=0,S=0;S<b.length;S++)s=(l.words[S]|0)+(b.words[S]|0)+m,this.words[S]=s&67108863,m=s>>>26;for(;m!==0&&S<l.length;S++)s=(l.words[S]|0)+m,this.words[S]=s&67108863,m=s>>>26;if(this.length=l.length,m!==0)this.words[this.length]=m,this.length++;else if(l!==this)for(;S<l.length;S++)this.words[S]=l.words[S];return this},f.prototype.add=function(n){var s;return n.negative!==0&&this.negative===0?(n.negative=0,s=this.sub(n),n.negative^=1,s):n.negative===0&&this.negative!==0?(this.negative=0,s=n.sub(this),this.negative=1,s):this.length>n.length?this.clone().iadd(n):n.clone().iadd(this)},f.prototype.isub=function(n){if(n.negative!==0){n.negative=0;var s=this.iadd(n);return n.negative=1,s._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(n),this.negative=1,this._normSign();var l=this.cmp(n);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var b,m;l>0?(b=this,m=n):(b=n,m=this);for(var S=0,E=0;E<m.length;E++)s=(b.words[E]|0)-(m.words[E]|0)+S,S=s>>26,this.words[E]=s&67108863;for(;S!==0&&E<b.length;E++)s=(b.words[E]|0)+S,S=s>>26,this.words[E]=s&67108863;if(S===0&&E<b.length&&b!==this)for(;E<b.length;E++)this.words[E]=b.words[E];return this.length=Math.max(this.length,E),b!==this&&(this.negative=1),this._strip()},f.prototype.sub=function(n){return this.clone().isub(n)};function T(g,n,s){s.negative=n.negative^g.negative;var l=g.length+n.length|0;s.length=l,l=l-1|0;var b=g.words[0]|0,m=n.words[0]|0,S=b*m,E=S&67108863,x=S/67108864|0;s.words[0]=E;for(var a=1;a<l;a++){for(var h=x>>>26,A=x&67108863,_=Math.min(a,n.length-1),c=Math.max(0,a-g.length+1);c<=_;c++){var R=a-c|0;b=g.words[R]|0,m=n.words[c]|0,S=b*m+A,h+=S/67108864|0,A=S&67108863}s.words[a]=A|0,x=h|0}return x!==0?s.words[a]=x|0:s.length--,s._strip()}var U=function(n,s,l){var b=n.words,m=s.words,S=l.words,E=0,x,a,h,A=b[0]|0,_=A&8191,c=A>>>13,R=b[1]|0,P=R&8191,N=R>>>13,D=b[2]|0,B=D&8191,L=D>>>13,W=b[3]|0,Q=W&8191,z=W>>>13,ae=b[4]|0,oe=ae&8191,ce=ae>>>13,Ot=b[5]|0,se=Ot&8191,xe=Ot>>>13,Dt=b[6]|0,de=Dt&8191,he=Dt>>>13,Lt=b[7]|0,ue=Lt&8191,le=Lt>>>13,Ut=b[8]|0,be=Ut&8191,pe=Ut>>>13,zt=b[9]|0,ve=zt&8191,me=zt>>>13,Kt=m[0]|0,ge=Kt&8191,ye=Kt>>>13,Gt=m[1]|0,we=Gt&8191,Me=Gt>>>13,$t=m[2]|0,Se=$t&8191,Ae=$t>>>13,Ht=m[3]|0,_e=Ht&8191,Ee=Ht>>>13,qt=m[4]|0,Pe=qt&8191,Ce=qt>>>13,Wt=m[5]|0,Ie=Wt&8191,Ne=Wt>>>13,Jt=m[6]|0,Re=Jt&8191,ke=Jt>>>13,Vt=m[7]|0,Te=Vt&8191,Fe=Vt>>>13,Zt=m[8]|0,Be=Zt&8191,Oe=Zt>>>13,jt=m[9]|0,De=jt&8191,Le=jt>>>13;l.negative=n.negative^s.negative,l.length=19,x=Math.imul(_,ge),a=Math.imul(_,ye),a=a+Math.imul(c,ge)|0,h=Math.imul(c,ye);var _t=(E+x|0)+((a&8191)<<13)|0;E=(h+(a>>>13)|0)+(_t>>>26)|0,_t&=67108863,x=Math.imul(P,ge),a=Math.imul(P,ye),a=a+Math.imul(N,ge)|0,h=Math.imul(N,ye),x=x+Math.imul(_,we)|0,a=a+Math.imul(_,Me)|0,a=a+Math.imul(c,we)|0,h=h+Math.imul(c,Me)|0;var Et=(E+x|0)+((a&8191)<<13)|0;E=(h+(a>>>13)|0)+(Et>>>26)|0,Et&=67108863,x=Math.imul(B,ge),a=Math.imul(B,ye),a=a+Math.imul(L,ge)|0,h=Math.imul(L,ye),x=x+Math.imul(P,we)|0,a=a+Math.imul(P,Me)|0,a=a+Math.imul(N,we)|0,h=h+Math.imul(N,Me)|0,x=x+Math.imul(_,Se)|0,a=a+Math.imul(_,Ae)|0,a=a+Math.imul(c,Se)|0,h=h+Math.imul(c,Ae)|0;var Pt=(E+x|0)+((a&8191)<<13)|0;E=(h+(a>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,x=Math.imul(Q,ge),a=Math.imul(Q,ye),a=a+Math.imul(z,ge)|0,h=Math.imul(z,ye),x=x+Math.imul(B,we)|0,a=a+Math.imul(B,Me)|0,a=a+Math.imul(L,we)|0,h=h+Math.imul(L,Me)|0,x=x+Math.imul(P,Se)|0,a=a+Math.imul(P,Ae)|0,a=a+Math.imul(N,Se)|0,h=h+Math.imul(N,Ae)|0,x=x+Math.imul(_,_e)|0,a=a+Math.imul(_,Ee)|0,a=a+Math.imul(c,_e)|0,h=h+Math.imul(c,Ee)|0;var Ct=(E+x|0)+((a&8191)<<13)|0;E=(h+(a>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,x=Math.imul(oe,ge),a=Math.imul(oe,ye),a=a+Math.imul(ce,ge)|0,h=Math.imul(ce,ye),x=x+Math.imul(Q,we)|0,a=a+Math.imul(Q,Me)|0,a=a+Math.imul(z,we)|0,h=h+Math.imul(z,Me)|0,x=x+Math.imul(B,Se)|0,a=a+Math.imul(B,Ae)|0,a=a+Math.imul(L,Se)|0,h=h+Math.imul(L,Ae)|0,x=x+Math.imul(P,_e)|0,a=a+Math.imul(P,Ee)|0,a=a+Math.imul(N,_e)|0,h=h+Math.imul(N,Ee)|0,x=x+Math.imul(_,Pe)|0,a=a+Math.imul(_,Ce)|0,a=a+Math.imul(c,Pe)|0,h=h+Math.imul(c,Ce)|0;var It=(E+x|0)+((a&8191)<<13)|0;E=(h+(a>>>13)|0)+(It>>>26)|0,It&=67108863,x=Math.imul(se,ge),a=Math.imul(se,ye),a=a+Math.imul(xe,ge)|0,h=Math.imul(xe,ye),x=x+Math.imul(oe,we)|0,a=a+Math.imul(oe,Me)|0,a=a+Math.imul(ce,we)|0,h=h+Math.imul(ce,Me)|0,x=x+Math.imul(Q,Se)|0,a=a+Math.imul(Q,Ae)|0,a=a+Math.imul(z,Se)|0,h=h+Math.imul(z,Ae)|0,x=x+Math.imul(B,_e)|0,a=a+Math.imul(B,Ee)|0,a=a+Math.imul(L,_e)|0,h=h+Math.imul(L,Ee)|0,x=x+Math.imul(P,Pe)|0,a=a+Math.imul(P,Ce)|0,a=a+Math.imul(N,Pe)|0,h=h+Math.imul(N,Ce)|0,x=x+Math.imul(_,Ie)|0,a=a+Math.imul(_,Ne)|0,a=a+Math.imul(c,Ie)|0,h=h+Math.imul(c,Ne)|0;var Nt=(E+x|0)+((a&8191)<<13)|0;E=(h+(a>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,x=Math.imul(de,ge),a=Math.imul(de,ye),a=a+Math.imul(he,ge)|0,h=Math.imul(he,ye),x=x+Math.imul(se,we)|0,a=a+Math.imul(se,Me)|0,a=a+Math.imul(xe,we)|0,h=h+Math.imul(xe,Me)|0,x=x+Math.imul(oe,Se)|0,a=a+Math.imul(oe,Ae)|0,a=a+Math.imul(ce,Se)|0,h=h+Math.imul(ce,Ae)|0,x=x+Math.imul(Q,_e)|0,a=a+Math.imul(Q,Ee)|0,a=a+Math.imul(z,_e)|0,h=h+Math.imul(z,Ee)|0,x=x+Math.imul(B,Pe)|0,a=a+Math.imul(B,Ce)|0,a=a+Math.imul(L,Pe)|0,h=h+Math.imul(L,Ce)|0,x=x+Math.imul(P,Ie)|0,a=a+Math.imul(P,Ne)|0,a=a+Math.imul(N,Ie)|0,h=h+Math.imul(N,Ne)|0,x=x+Math.imul(_,Re)|0,a=a+Math.imul(_,ke)|0,a=a+Math.imul(c,Re)|0,h=h+Math.imul(c,ke)|0;var Y0=(E+x|0)+((a&8191)<<13)|0;E=(h+(a>>>13)|0)+(Y0>>>26)|0,Y0&=67108863,x=Math.imul(ue,ge),a=Math.imul(ue,ye),a=a+Math.imul(le,ge)|0,h=Math.imul(le,ye),x=x+Math.imul(de,we)|0,a=a+Math.imul(de,Me)|0,a=a+Math.imul(he,we)|0,h=h+Math.imul(he,Me)|0,x=x+Math.imul(se,Se)|0,a=a+Math.imul(se,Ae)|0,a=a+Math.imul(xe,Se)|0,h=h+Math.imul(xe,Ae)|0,x=x+Math.imul(oe,_e)|0,a=a+Math.imul(oe,Ee)|0,a=a+Math.imul(ce,_e)|0,h=h+Math.imul(ce,Ee)|0,x=x+Math.imul(Q,Pe)|0,a=a+Math.imul(Q,Ce)|0,a=a+Math.imul(z,Pe)|0,h=h+Math.imul(z,Ce)|0,x=x+Math.imul(B,Ie)|0,a=a+Math.imul(B,Ne)|0,a=a+Math.imul(L,Ie)|0,h=h+Math.imul(L,Ne)|0,x=x+Math.imul(P,Re)|0,a=a+Math.imul(P,ke)|0,a=a+Math.imul(N,Re)|0,h=h+Math.imul(N,ke)|0,x=x+Math.imul(_,Te)|0,a=a+Math.imul(_,Fe)|0,a=a+Math.imul(c,Te)|0,h=h+Math.imul(c,Fe)|0;var Q0=(E+x|0)+((a&8191)<<13)|0;E=(h+(a>>>13)|0)+(Q0>>>26)|0,Q0&=67108863,x=Math.imul(be,ge),a=Math.imul(be,ye),a=a+Math.imul(pe,ge)|0,h=Math.imul(pe,ye),x=x+Math.imul(ue,we)|0,a=a+Math.imul(ue,Me)|0,a=a+Math.imul(le,we)|0,h=h+Math.imul(le,Me)|0,x=x+Math.imul(de,Se)|0,a=a+Math.imul(de,Ae)|0,a=a+Math.imul(he,Se)|0,h=h+Math.imul(he,Ae)|0,x=x+Math.imul(se,_e)|0,a=a+Math.imul(se,Ee)|0,a=a+Math.imul(xe,_e)|0,h=h+Math.imul(xe,Ee)|0,x=x+Math.imul(oe,Pe)|0,a=a+Math.imul(oe,Ce)|0,a=a+Math.imul(ce,Pe)|0,h=h+Math.imul(ce,Ce)|0,x=x+Math.imul(Q,Ie)|0,a=a+Math.imul(Q,Ne)|0,a=a+Math.imul(z,Ie)|0,h=h+Math.imul(z,Ne)|0,x=x+Math.imul(B,Re)|0,a=a+Math.imul(B,ke)|0,a=a+Math.imul(L,Re)|0,h=h+Math.imul(L,ke)|0,x=x+Math.imul(P,Te)|0,a=a+Math.imul(P,Fe)|0,a=a+Math.imul(N,Te)|0,h=h+Math.imul(N,Fe)|0,x=x+Math.imul(_,Be)|0,a=a+Math.imul(_,Oe)|0,a=a+Math.imul(c,Be)|0,h=h+Math.imul(c,Oe)|0;var er=(E+x|0)+((a&8191)<<13)|0;E=(h+(a>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(ve,ge),a=Math.imul(ve,ye),a=a+Math.imul(me,ge)|0,h=Math.imul(me,ye),x=x+Math.imul(be,we)|0,a=a+Math.imul(be,Me)|0,a=a+Math.imul(pe,we)|0,h=h+Math.imul(pe,Me)|0,x=x+Math.imul(ue,Se)|0,a=a+Math.imul(ue,Ae)|0,a=a+Math.imul(le,Se)|0,h=h+Math.imul(le,Ae)|0,x=x+Math.imul(de,_e)|0,a=a+Math.imul(de,Ee)|0,a=a+Math.imul(he,_e)|0,h=h+Math.imul(he,Ee)|0,x=x+Math.imul(se,Pe)|0,a=a+Math.imul(se,Ce)|0,a=a+Math.imul(xe,Pe)|0,h=h+Math.imul(xe,Ce)|0,x=x+Math.imul(oe,Ie)|0,a=a+Math.imul(oe,Ne)|0,a=a+Math.imul(ce,Ie)|0,h=h+Math.imul(ce,Ne)|0,x=x+Math.imul(Q,Re)|0,a=a+Math.imul(Q,ke)|0,a=a+Math.imul(z,Re)|0,h=h+Math.imul(z,ke)|0,x=x+Math.imul(B,Te)|0,a=a+Math.imul(B,Fe)|0,a=a+Math.imul(L,Te)|0,h=h+Math.imul(L,Fe)|0,x=x+Math.imul(P,Be)|0,a=a+Math.imul(P,Oe)|0,a=a+Math.imul(N,Be)|0,h=h+Math.imul(N,Oe)|0,x=x+Math.imul(_,De)|0,a=a+Math.imul(_,Le)|0,a=a+Math.imul(c,De)|0,h=h+Math.imul(c,Le)|0;var tr=(E+x|0)+((a&8191)<<13)|0;E=(h+(a>>>13)|0)+(tr>>>26)|0,tr&=67108863,x=Math.imul(ve,we),a=Math.imul(ve,Me),a=a+Math.imul(me,we)|0,h=Math.imul(me,Me),x=x+Math.imul(be,Se)|0,a=a+Math.imul(be,Ae)|0,a=a+Math.imul(pe,Se)|0,h=h+Math.imul(pe,Ae)|0,x=x+Math.imul(ue,_e)|0,a=a+Math.imul(ue,Ee)|0,a=a+Math.imul(le,_e)|0,h=h+Math.imul(le,Ee)|0,x=x+Math.imul(de,Pe)|0,a=a+Math.imul(de,Ce)|0,a=a+Math.imul(he,Pe)|0,h=h+Math.imul(he,Ce)|0,x=x+Math.imul(se,Ie)|0,a=a+Math.imul(se,Ne)|0,a=a+Math.imul(xe,Ie)|0,h=h+Math.imul(xe,Ne)|0,x=x+Math.imul(oe,Re)|0,a=a+Math.imul(oe,ke)|0,a=a+Math.imul(ce,Re)|0,h=h+Math.imul(ce,ke)|0,x=x+Math.imul(Q,Te)|0,a=a+Math.imul(Q,Fe)|0,a=a+Math.imul(z,Te)|0,h=h+Math.imul(z,Fe)|0,x=x+Math.imul(B,Be)|0,a=a+Math.imul(B,Oe)|0,a=a+Math.imul(L,Be)|0,h=h+Math.imul(L,Oe)|0,x=x+Math.imul(P,De)|0,a=a+Math.imul(P,Le)|0,a=a+Math.imul(N,De)|0,h=h+Math.imul(N,Le)|0;var rr=(E+x|0)+((a&8191)<<13)|0;E=(h+(a>>>13)|0)+(rr>>>26)|0,rr&=67108863,x=Math.imul(ve,Se),a=Math.imul(ve,Ae),a=a+Math.imul(me,Se)|0,h=Math.imul(me,Ae),x=x+Math.imul(be,_e)|0,a=a+Math.imul(be,Ee)|0,a=a+Math.imul(pe,_e)|0,h=h+Math.imul(pe,Ee)|0,x=x+Math.imul(ue,Pe)|0,a=a+Math.imul(ue,Ce)|0,a=a+Math.imul(le,Pe)|0,h=h+Math.imul(le,Ce)|0,x=x+Math.imul(de,Ie)|0,a=a+Math.imul(de,Ne)|0,a=a+Math.imul(he,Ie)|0,h=h+Math.imul(he,Ne)|0,x=x+Math.imul(se,Re)|0,a=a+Math.imul(se,ke)|0,a=a+Math.imul(xe,Re)|0,h=h+Math.imul(xe,ke)|0,x=x+Math.imul(oe,Te)|0,a=a+Math.imul(oe,Fe)|0,a=a+Math.imul(ce,Te)|0,h=h+Math.imul(ce,Fe)|0,x=x+Math.imul(Q,Be)|0,a=a+Math.imul(Q,Oe)|0,a=a+Math.imul(z,Be)|0,h=h+Math.imul(z,Oe)|0,x=x+Math.imul(B,De)|0,a=a+Math.imul(B,Le)|0,a=a+Math.imul(L,De)|0,h=h+Math.imul(L,Le)|0;var ir=(E+x|0)+((a&8191)<<13)|0;E=(h+(a>>>13)|0)+(ir>>>26)|0,ir&=67108863,x=Math.imul(ve,_e),a=Math.imul(ve,Ee),a=a+Math.imul(me,_e)|0,h=Math.imul(me,Ee),x=x+Math.imul(be,Pe)|0,a=a+Math.imul(be,Ce)|0,a=a+Math.imul(pe,Pe)|0,h=h+Math.imul(pe,Ce)|0,x=x+Math.imul(ue,Ie)|0,a=a+Math.imul(ue,Ne)|0,a=a+Math.imul(le,Ie)|0,h=h+Math.imul(le,Ne)|0,x=x+Math.imul(de,Re)|0,a=a+Math.imul(de,ke)|0,a=a+Math.imul(he,Re)|0,h=h+Math.imul(he,ke)|0,x=x+Math.imul(se,Te)|0,a=a+Math.imul(se,Fe)|0,a=a+Math.imul(xe,Te)|0,h=h+Math.imul(xe,Fe)|0,x=x+Math.imul(oe,Be)|0,a=a+Math.imul(oe,Oe)|0,a=a+Math.imul(ce,Be)|0,h=h+Math.imul(ce,Oe)|0,x=x+Math.imul(Q,De)|0,a=a+Math.imul(Q,Le)|0,a=a+Math.imul(z,De)|0,h=h+Math.imul(z,Le)|0;var nr=(E+x|0)+((a&8191)<<13)|0;E=(h+(a>>>13)|0)+(nr>>>26)|0,nr&=67108863,x=Math.imul(ve,Pe),a=Math.imul(ve,Ce),a=a+Math.imul(me,Pe)|0,h=Math.imul(me,Ce),x=x+Math.imul(be,Ie)|0,a=a+Math.imul(be,Ne)|0,a=a+Math.imul(pe,Ie)|0,h=h+Math.imul(pe,Ne)|0,x=x+Math.imul(ue,Re)|0,a=a+Math.imul(ue,ke)|0,a=a+Math.imul(le,Re)|0,h=h+Math.imul(le,ke)|0,x=x+Math.imul(de,Te)|0,a=a+Math.imul(de,Fe)|0,a=a+Math.imul(he,Te)|0,h=h+Math.imul(he,Fe)|0,x=x+Math.imul(se,Be)|0,a=a+Math.imul(se,Oe)|0,a=a+Math.imul(xe,Be)|0,h=h+Math.imul(xe,Oe)|0,x=x+Math.imul(oe,De)|0,a=a+Math.imul(oe,Le)|0,a=a+Math.imul(ce,De)|0,h=h+Math.imul(ce,Le)|0;var fr=(E+x|0)+((a&8191)<<13)|0;E=(h+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,x=Math.imul(ve,Ie),a=Math.imul(ve,Ne),a=a+Math.imul(me,Ie)|0,h=Math.imul(me,Ne),x=x+Math.imul(be,Re)|0,a=a+Math.imul(be,ke)|0,a=a+Math.imul(pe,Re)|0,h=h+Math.imul(pe,ke)|0,x=x+Math.imul(ue,Te)|0,a=a+Math.imul(ue,Fe)|0,a=a+Math.imul(le,Te)|0,h=h+Math.imul(le,Fe)|0,x=x+Math.imul(de,Be)|0,a=a+Math.imul(de,Oe)|0,a=a+Math.imul(he,Be)|0,h=h+Math.imul(he,Oe)|0,x=x+Math.imul(se,De)|0,a=a+Math.imul(se,Le)|0,a=a+Math.imul(xe,De)|0,h=h+Math.imul(xe,Le)|0;var ar=(E+x|0)+((a&8191)<<13)|0;E=(h+(a>>>13)|0)+(ar>>>26)|0,ar&=67108863,x=Math.imul(ve,Re),a=Math.imul(ve,ke),a=a+Math.imul(me,Re)|0,h=Math.imul(me,ke),x=x+Math.imul(be,Te)|0,a=a+Math.imul(be,Fe)|0,a=a+Math.imul(pe,Te)|0,h=h+Math.imul(pe,Fe)|0,x=x+Math.imul(ue,Be)|0,a=a+Math.imul(ue,Oe)|0,a=a+Math.imul(le,Be)|0,h=h+Math.imul(le,Oe)|0,x=x+Math.imul(de,De)|0,a=a+Math.imul(de,Le)|0,a=a+Math.imul(he,De)|0,h=h+Math.imul(he,Le)|0;var or=(E+x|0)+((a&8191)<<13)|0;E=(h+(a>>>13)|0)+(or>>>26)|0,or&=67108863,x=Math.imul(ve,Te),a=Math.imul(ve,Fe),a=a+Math.imul(me,Te)|0,h=Math.imul(me,Fe),x=x+Math.imul(be,Be)|0,a=a+Math.imul(be,Oe)|0,a=a+Math.imul(pe,Be)|0,h=h+Math.imul(pe,Oe)|0,x=x+Math.imul(ue,De)|0,a=a+Math.imul(ue,Le)|0,a=a+Math.imul(le,De)|0,h=h+Math.imul(le,Le)|0;var cr=(E+x|0)+((a&8191)<<13)|0;E=(h+(a>>>13)|0)+(cr>>>26)|0,cr&=67108863,x=Math.imul(ve,Be),a=Math.imul(ve,Oe),a=a+Math.imul(me,Be)|0,h=Math.imul(me,Oe),x=x+Math.imul(be,De)|0,a=a+Math.imul(be,Le)|0,a=a+Math.imul(pe,De)|0,h=h+Math.imul(pe,Le)|0;var sr=(E+x|0)+((a&8191)<<13)|0;E=(h+(a>>>13)|0)+(sr>>>26)|0,sr&=67108863,x=Math.imul(ve,De),a=Math.imul(ve,Le),a=a+Math.imul(me,De)|0,h=Math.imul(me,Le);var xr=(E+x|0)+((a&8191)<<13)|0;return E=(h+(a>>>13)|0)+(xr>>>26)|0,xr&=67108863,S[0]=_t,S[1]=Et,S[2]=Pt,S[3]=Ct,S[4]=It,S[5]=Nt,S[6]=Y0,S[7]=Q0,S[8]=er,S[9]=tr,S[10]=rr,S[11]=ir,S[12]=nr,S[13]=fr,S[14]=ar,S[15]=or,S[16]=cr,S[17]=sr,S[18]=xr,E!==0&&(S[19]=E,l.length++),l};Math.imul||(U=T);function K(g,n,s){s.negative=n.negative^g.negative,s.length=g.length+n.length;for(var l=0,b=0,m=0;m<s.length-1;m++){var S=b;b=0;for(var E=l&67108863,x=Math.min(m,n.length-1),a=Math.max(0,m-g.length+1);a<=x;a++){var h=m-a,A=g.words[h]|0,_=n.words[a]|0,c=A*_,R=c&67108863;S=S+(c/67108864|0)|0,R=R+E|0,E=R&67108863,S=S+(R>>>26)|0,b+=S>>>26,S&=67108863}s.words[m]=E,l=S,S=b}return l!==0?s.words[m]=l:s.length--,s._strip()}function H(g,n,s){return K(g,n,s)}f.prototype.mulTo=function(n,s){var l,b=this.length+n.length;return this.length===10&&n.length===10?l=U(this,n,s):b<63?l=T(this,n,s):b<1024?l=K(this,n,s):l=H(this,n,s),l},f.prototype.mul=function(n){var s=new f(null);return s.words=new Array(this.length+n.length),this.mulTo(n,s)},f.prototype.mulf=function(n){var s=new f(null);return s.words=new Array(this.length+n.length),H(this,n,s)},f.prototype.imul=function(n){return this.clone().mulTo(n,this)},f.prototype.imuln=function(n){var s=n<0;s&&(n=-n),i(typeof n=="number"),i(n<67108864);for(var l=0,b=0;b<this.length;b++){var m=(this.words[b]|0)*n,S=(m&67108863)+(l&67108863);l>>=26,l+=m/67108864|0,l+=S>>>26,this.words[b]=S&67108863}return l!==0&&(this.words[b]=l,this.length++),this.length=n===0?1:this.length,s?this.ineg():this},f.prototype.muln=function(n){return this.clone().imuln(n)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(n){var s=M(n);if(s.length===0)return new f(1);for(var l=this,b=0;b<s.length&&s[b]===0;b++,l=l.sqr());if(++b<s.length)for(var m=l.sqr();b<s.length;b++,m=m.sqr())s[b]!==0&&(l=l.mul(m));return l},f.prototype.iushln=function(n){i(typeof n=="number"&&n>=0);var s=n%26,l=(n-s)/26,b=67108863>>>26-s<<26-s,m;if(s!==0){var S=0;for(m=0;m<this.length;m++){var E=this.words[m]&b,x=(this.words[m]|0)-E<<s;this.words[m]=x|S,S=E>>>26-s}S&&(this.words[m]=S,this.length++)}if(l!==0){for(m=this.length-1;m>=0;m--)this.words[m+l]=this.words[m];for(m=0;m<l;m++)this.words[m]=0;this.length+=l}return this._strip()},f.prototype.ishln=function(n){return i(this.negative===0),this.iushln(n)},f.prototype.iushrn=function(n,s,l){i(typeof n=="number"&&n>=0);var b;s?b=(s-s%26)/26:b=0;var m=n%26,S=Math.min((n-m)/26,this.length),E=67108863^67108863>>>m<<m,x=l;if(b-=S,b=Math.max(0,b),x){for(var a=0;a<S;a++)x.words[a]=this.words[a];x.length=S}if(S!==0)if(this.length>S)for(this.length-=S,a=0;a<this.length;a++)this.words[a]=this.words[a+S];else this.words[0]=0,this.length=1;var h=0;for(a=this.length-1;a>=0&&(h!==0||a>=b);a--){var A=this.words[a]|0;this.words[a]=h<<26-m|A>>>m,h=A&E}return x&&h!==0&&(x.words[x.length++]=h),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},f.prototype.ishrn=function(n,s,l){return i(this.negative===0),this.iushrn(n,s,l)},f.prototype.shln=function(n){return this.clone().ishln(n)},f.prototype.ushln=function(n){return this.clone().iushln(n)},f.prototype.shrn=function(n){return this.clone().ishrn(n)},f.prototype.ushrn=function(n){return this.clone().iushrn(n)},f.prototype.testn=function(n){i(typeof n=="number"&&n>=0);var s=n%26,l=(n-s)/26,b=1<<s;if(this.length<=l)return!1;var m=this.words[l];return!!(m&b)},f.prototype.imaskn=function(n){i(typeof n=="number"&&n>=0);var s=n%26,l=(n-s)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(s!==0&&l++,this.length=Math.min(l,this.length),s!==0){var b=67108863^67108863>>>s<<s;this.words[this.length-1]&=b}return this._strip()},f.prototype.maskn=function(n){return this.clone().imaskn(n)},f.prototype.iaddn=function(n){return i(typeof n=="number"),i(n<67108864),n<0?this.isubn(-n):this.negative!==0?this.length===1&&(this.words[0]|0)<=n?(this.words[0]=n-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(n),this.negative=1,this):this._iaddn(n)},f.prototype._iaddn=function(n){this.words[0]+=n;for(var s=0;s<this.length&&this.words[s]>=67108864;s++)this.words[s]-=67108864,s===this.length-1?this.words[s+1]=1:this.words[s+1]++;return this.length=Math.max(this.length,s+1),this},f.prototype.isubn=function(n){if(i(typeof n=="number"),i(n<67108864),n<0)return this.iaddn(-n);if(this.negative!==0)return this.negative=0,this.iaddn(n),this.negative=1,this;if(this.words[0]-=n,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var s=0;s<this.length&&this.words[s]<0;s++)this.words[s]+=67108864,this.words[s+1]-=1;return this._strip()},f.prototype.addn=function(n){return this.clone().iaddn(n)},f.prototype.subn=function(n){return this.clone().isubn(n)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(n,s,l){var b=n.length+l,m;this._expand(b);var S,E=0;for(m=0;m<n.length;m++){S=(this.words[m+l]|0)+E;var x=(n.words[m]|0)*s;S-=x&67108863,E=(S>>26)-(x/67108864|0),this.words[m+l]=S&67108863}for(;m<this.length-l;m++)S=(this.words[m+l]|0)+E,E=S>>26,this.words[m+l]=S&67108863;if(E===0)return this._strip();for(i(E===-1),E=0,m=0;m<this.length;m++)S=-(this.words[m]|0)+E,E=S>>26,this.words[m]=S&67108863;return this.negative=1,this._strip()},f.prototype._wordDiv=function(n,s){var l=this.length-n.length,b=this.clone(),m=n,S=m.words[m.length-1]|0,E=this._countBits(S);l=26-E,l!==0&&(m=m.ushln(l),b.iushln(l),S=m.words[m.length-1]|0);var x=b.length-m.length,a;if(s!=="mod"){a=new f(null),a.length=x+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var A=b.clone()._ishlnsubmul(m,1,x);A.negative===0&&(b=A,a&&(a.words[x]=1));for(var _=x-1;_>=0;_--){var c=(b.words[m.length+_]|0)*67108864+(b.words[m.length+_-1]|0);for(c=Math.min(c/S|0,67108863),b._ishlnsubmul(m,c,_);b.negative!==0;)c--,b.negative=0,b._ishlnsubmul(m,1,_),b.isZero()||(b.negative^=1);a&&(a.words[_]=c)}return a&&a._strip(),b._strip(),s!=="div"&&l!==0&&b.iushrn(l),{div:a||null,mod:b}},f.prototype.divmod=function(n,s,l){if(i(!n.isZero()),this.isZero())return{div:new f(0),mod:new f(0)};var b,m,S;return this.negative!==0&&n.negative===0?(S=this.neg().divmod(n,s),s!=="mod"&&(b=S.div.neg()),s!=="div"&&(m=S.mod.neg(),l&&m.negative!==0&&m.iadd(n)),{div:b,mod:m}):this.negative===0&&n.negative!==0?(S=this.divmod(n.neg(),s),s!=="mod"&&(b=S.div.neg()),{div:b,mod:S.mod}):this.negative&n.negative?(S=this.neg().divmod(n.neg(),s),s!=="div"&&(m=S.mod.neg(),l&&m.negative!==0&&m.isub(n)),{div:S.div,mod:m}):n.length>this.length||this.cmp(n)<0?{div:new f(0),mod:this}:n.length===1?s==="div"?{div:this.divn(n.words[0]),mod:null}:s==="mod"?{div:null,mod:new f(this.modrn(n.words[0]))}:{div:this.divn(n.words[0]),mod:new f(this.modrn(n.words[0]))}:this._wordDiv(n,s)},f.prototype.div=function(n){return this.divmod(n,"div",!1).div},f.prototype.mod=function(n){return this.divmod(n,"mod",!1).mod},f.prototype.umod=function(n){return this.divmod(n,"mod",!0).mod},f.prototype.divRound=function(n){var s=this.divmod(n);if(s.mod.isZero())return s.div;var l=s.div.negative!==0?s.mod.isub(n):s.mod,b=n.ushrn(1),m=n.andln(1),S=l.cmp(b);return S<0||m===1&&S===0?s.div:s.div.negative!==0?s.div.isubn(1):s.div.iaddn(1)},f.prototype.modrn=function(n){var s=n<0;s&&(n=-n),i(n<=67108863);for(var l=(1<<26)%n,b=0,m=this.length-1;m>=0;m--)b=(l*b+(this.words[m]|0))%n;return s?-b:b},f.prototype.modn=function(n){return this.modrn(n)},f.prototype.idivn=function(n){var s=n<0;s&&(n=-n),i(n<=67108863);for(var l=0,b=this.length-1;b>=0;b--){var m=(this.words[b]|0)+l*67108864;this.words[b]=m/n|0,l=m%n}return this._strip(),s?this.ineg():this},f.prototype.divn=function(n){return this.clone().idivn(n)},f.prototype.egcd=function(n){i(n.negative===0),i(!n.isZero());var s=this,l=n.clone();s.negative!==0?s=s.umod(n):s=s.clone();for(var b=new f(1),m=new f(0),S=new f(0),E=new f(1),x=0;s.isEven()&&l.isEven();)s.iushrn(1),l.iushrn(1),++x;for(var a=l.clone(),h=s.clone();!s.isZero();){for(var A=0,_=1;!(s.words[0]&_)&&A<26;++A,_<<=1);if(A>0)for(s.iushrn(A);A-- >0;)(b.isOdd()||m.isOdd())&&(b.iadd(a),m.isub(h)),b.iushrn(1),m.iushrn(1);for(var c=0,R=1;!(l.words[0]&R)&&c<26;++c,R<<=1);if(c>0)for(l.iushrn(c);c-- >0;)(S.isOdd()||E.isOdd())&&(S.iadd(a),E.isub(h)),S.iushrn(1),E.iushrn(1);s.cmp(l)>=0?(s.isub(l),b.isub(S),m.isub(E)):(l.isub(s),S.isub(b),E.isub(m))}return{a:S,b:E,gcd:l.iushln(x)}},f.prototype._invmp=function(n){i(n.negative===0),i(!n.isZero());var s=this,l=n.clone();s.negative!==0?s=s.umod(n):s=s.clone();for(var b=new f(1),m=new f(0),S=l.clone();s.cmpn(1)>0&&l.cmpn(1)>0;){for(var E=0,x=1;!(s.words[0]&x)&&E<26;++E,x<<=1);if(E>0)for(s.iushrn(E);E-- >0;)b.isOdd()&&b.iadd(S),b.iushrn(1);for(var a=0,h=1;!(l.words[0]&h)&&a<26;++a,h<<=1);if(a>0)for(l.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(S),m.iushrn(1);s.cmp(l)>=0?(s.isub(l),b.isub(m)):(l.isub(s),m.isub(b))}var A;return s.cmpn(1)===0?A=b:A=m,A.cmpn(0)<0&&A.iadd(n),A},f.prototype.gcd=function(n){if(this.isZero())return n.abs();if(n.isZero())return this.abs();var s=this.clone(),l=n.clone();s.negative=0,l.negative=0;for(var b=0;s.isEven()&&l.isEven();b++)s.iushrn(1),l.iushrn(1);do{for(;s.isEven();)s.iushrn(1);for(;l.isEven();)l.iushrn(1);var m=s.cmp(l);if(m<0){var S=s;s=l,l=S}else if(m===0||l.cmpn(1)===0)break;s.isub(l)}while(!0);return l.iushln(b)},f.prototype.invm=function(n){return this.egcd(n).a.umod(n)},f.prototype.isEven=function(){return(this.words[0]&1)===0},f.prototype.isOdd=function(){return(this.words[0]&1)===1},f.prototype.andln=function(n){return this.words[0]&n},f.prototype.bincn=function(n){i(typeof n=="number");var s=n%26,l=(n-s)/26,b=1<<s;if(this.length<=l)return this._expand(l+1),this.words[l]|=b,this;for(var m=b,S=l;m!==0&&S<this.length;S++){var E=this.words[S]|0;E+=m,m=E>>>26,E&=67108863,this.words[S]=E}return m!==0&&(this.words[S]=m,this.length++),this},f.prototype.isZero=function(){return this.length===1&&this.words[0]===0},f.prototype.cmpn=function(n){var s=n<0;if(this.negative!==0&&!s)return-1;if(this.negative===0&&s)return 1;this._strip();var l;if(this.length>1)l=1;else{s&&(n=-n),i(n<=67108863,"Number is too big");var b=this.words[0]|0;l=b===n?0:b<n?-1:1}return this.negative!==0?-l|0:l},f.prototype.cmp=function(n){if(this.negative!==0&&n.negative===0)return-1;if(this.negative===0&&n.negative!==0)return 1;var s=this.ucmp(n);return this.negative!==0?-s|0:s},f.prototype.ucmp=function(n){if(this.length>n.length)return 1;if(this.length<n.length)return-1;for(var s=0,l=this.length-1;l>=0;l--){var b=this.words[l]|0,m=n.words[l]|0;if(b!==m){b<m?s=-1:b>m&&(s=1);break}}return s},f.prototype.gtn=function(n){return this.cmpn(n)===1},f.prototype.gt=function(n){return this.cmp(n)===1},f.prototype.gten=function(n){return this.cmpn(n)>=0},f.prototype.gte=function(n){return this.cmp(n)>=0},f.prototype.ltn=function(n){return this.cmpn(n)===-1},f.prototype.lt=function(n){return this.cmp(n)===-1},f.prototype.lten=function(n){return this.cmpn(n)<=0},f.prototype.lte=function(n){return this.cmp(n)<=0},f.prototype.eqn=function(n){return this.cmpn(n)===0},f.prototype.eq=function(n){return this.cmp(n)===0},f.red=function(n){return new J(n)},f.prototype.toRed=function(n){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),n.convertTo(this)._forceRed(n)},f.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(n){return this.red=n,this},f.prototype.forceRed=function(n){return i(!this.red,"Already a number in reduction context"),this._forceRed(n)},f.prototype.redAdd=function(n){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,n)},f.prototype.redIAdd=function(n){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,n)},f.prototype.redSub=function(n){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,n)},f.prototype.redISub=function(n){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,n)},f.prototype.redShl=function(n){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,n)},f.prototype.redMul=function(n){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.mul(this,n)},f.prototype.redIMul=function(n){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.imul(this,n)},f.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(n){return i(this.red&&!n.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,n)};var O={k256:null,p224:null,p192:null,p25519:null};function $(g,n){this.name=g,this.p=new f(n,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var n=new f(null);return n.words=new Array(Math.ceil(this.n/13)),n},$.prototype.ireduce=function(n){var s=n,l;do this.split(s,this.tmp),s=this.imulK(s),s=s.iadd(this.tmp),l=s.bitLength();while(l>this.n);var b=l<this.n?-1:s.ucmp(this.p);return b===0?(s.words[0]=0,s.length=1):b>0?s.isub(this.p):s.strip!==void 0?s.strip():s._strip(),s},$.prototype.split=function(n,s){n.iushrn(this.n,0,s)},$.prototype.imulK=function(n){return n.imul(this.k)};function X(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(X,$),X.prototype.split=function(n,s){for(var l=4194303,b=Math.min(n.length,9),m=0;m<b;m++)s.words[m]=n.words[m];if(s.length=b,n.length<=9){n.words[0]=0,n.length=1;return}var S=n.words[9];for(s.words[s.length++]=S&l,m=10;m<n.length;m++){var E=n.words[m]|0;n.words[m-10]=(E&l)<<4|S>>>22,S=E}S>>>=22,n.words[m-10]=S,S===0&&n.length>10?n.length-=10:n.length-=9},X.prototype.imulK=function(n){n.words[n.length]=0,n.words[n.length+1]=0,n.length+=2;for(var s=0,l=0;l<n.length;l++){var b=n.words[l]|0;s+=b*977,n.words[l]=s&67108863,s=b*64+(s/67108864|0)}return n.words[n.length-1]===0&&(n.length--,n.words[n.length-1]===0&&n.length--),n};function Z(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(Z,$);function re(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(re,$);function ie(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(ie,$),ie.prototype.imulK=function(n){for(var s=0,l=0;l<n.length;l++){var b=(n.words[l]|0)*19+s,m=b&67108863;b>>>=26,n.words[l]=m,s=b}return s!==0&&(n.words[n.length++]=s),n},f._prime=function(n){if(O[n])return O[n];var s;if(n==="k256")s=new X;else if(n==="p224")s=new Z;else if(n==="p192")s=new re;else if(n==="p25519")s=new ie;else throw new Error("Unknown prime "+n);return O[n]=s,s};function J(g){if(typeof g=="string"){var n=f._prime(g);this.m=n.p,this.prime=n}else i(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}J.prototype._verify1=function(n){i(n.negative===0,"red works only with positives"),i(n.red,"red works only with red numbers")},J.prototype._verify2=function(n,s){i((n.negative|s.negative)===0,"red works only with positives"),i(n.red&&n.red===s.red,"red works only with red numbers")},J.prototype.imod=function(n){return this.prime?this.prime.ireduce(n)._forceRed(this):(v(n,n.umod(this.m)._forceRed(this)),n)},J.prototype.neg=function(n){return n.isZero()?n.clone():this.m.sub(n)._forceRed(this)},J.prototype.add=function(n,s){this._verify2(n,s);var l=n.add(s);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},J.prototype.iadd=function(n,s){this._verify2(n,s);var l=n.iadd(s);return l.cmp(this.m)>=0&&l.isub(this.m),l},J.prototype.sub=function(n,s){this._verify2(n,s);var l=n.sub(s);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},J.prototype.isub=function(n,s){this._verify2(n,s);var l=n.isub(s);return l.cmpn(0)<0&&l.iadd(this.m),l},J.prototype.shl=function(n,s){return this._verify1(n),this.imod(n.ushln(s))},J.prototype.imul=function(n,s){return this._verify2(n,s),this.imod(n.imul(s))},J.prototype.mul=function(n,s){return this._verify2(n,s),this.imod(n.mul(s))},J.prototype.isqr=function(n){return this.imul(n,n.clone())},J.prototype.sqr=function(n){return this.mul(n,n)},J.prototype.sqrt=function(n){if(n.isZero())return n.clone();var s=this.m.andln(3);if(i(s%2===1),s===3){var l=this.m.add(new f(1)).iushrn(2);return this.pow(n,l)}for(var b=this.m.subn(1),m=0;!b.isZero()&&b.andln(1)===0;)m++,b.iushrn(1);i(!b.isZero());var S=new f(1).toRed(this),E=S.redNeg(),x=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new f(2*a*a).toRed(this);this.pow(a,x).cmp(E)!==0;)a.redIAdd(E);for(var h=this.pow(a,b),A=this.pow(n,b.addn(1).iushrn(1)),_=this.pow(n,b),c=m;_.cmp(S)!==0;){for(var R=_,P=0;R.cmp(S)!==0;P++)R=R.redSqr();i(P<c);var N=this.pow(h,new f(1).iushln(c-P-1));A=A.redMul(N),h=N.redSqr(),_=_.redMul(h),c=P}return A},J.prototype.invm=function(n){var s=n._invmp(this.m);return s.negative!==0?(s.negative=0,this.imod(s).redNeg()):this.imod(s)},J.prototype.pow=function(n,s){if(s.isZero())return new f(1).toRed(this);if(s.cmpn(1)===0)return n.clone();var l=4,b=new Array(1<<l);b[0]=new f(1).toRed(this),b[1]=n;for(var m=2;m<b.length;m++)b[m]=this.mul(b[m-1],n);var S=b[0],E=0,x=0,a=s.bitLength()%26;for(a===0&&(a=26),m=s.length-1;m>=0;m--){for(var h=s.words[m],A=a-1;A>=0;A--){var _=h>>A&1;if(S!==b[0]&&(S=this.sqr(S)),_===0&&E===0){x=0;continue}E<<=1,E|=_,x++,!(x!==l&&(m!==0||A!==0))&&(S=this.mul(S,b[E]),x=0,E=0)}a=26}return S},J.prototype.convertTo=function(n){var s=n.umod(this.m);return s===n?s.clone():s},J.prototype.convertFrom=function(n){var s=n.clone();return s.red=null,s},f.mont=function(n){return new ne(n)};function ne(g){J.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(ne,J),ne.prototype.convertTo=function(n){return this.imod(n.ushln(this.shift))},ne.prototype.convertFrom=function(n){var s=this.imod(n.mul(this.rinv));return s.red=null,s},ne.prototype.imul=function(n,s){if(n.isZero()||s.isZero())return n.words[0]=0,n.length=1,n;var l=n.imul(s),b=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=l.isub(b).iushrn(this.shift),S=m;return m.cmp(this.m)>=0?S=m.isub(this.m):m.cmpn(0)<0&&(S=m.iadd(this.m)),S._forceRed(this)},ne.prototype.mul=function(n,s){if(n.isZero()||s.isZero())return new f(0)._forceRed(this);var l=n.mul(s),b=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=l.isub(b).iushrn(this.shift),S=m;return m.cmp(this.m)>=0?S=m.isub(this.m):m.cmpn(0)<0&&(S=m.iadd(this.m)),S._forceRed(this)},ne.prototype.invm=function(n){var s=this.imod(n._invmp(this.m).mul(this.r2));return s._forceRed(this)}})(r,bn)})(kr);var gn=kr.exports;const V=I0(gn),yn="logger/5.8.0";let Jr=!1,Vr=!1;const O0={debug:1,default:2,info:2,warning:3,error:4,off:5};let Zr=O0.default,dr=null;function wn(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(r){return r.message}return null}const jr=wn();var Sr;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(Sr||(Sr={}));var ct;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(ct||(ct={}));const Xr="0123456789abcdef";class q{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const i=e.toLowerCase();O0[i]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Zr>O0[i])&&console.log.apply(console,t)}debug(...e){this._log(q.levels.DEBUG,e)}info(...e){this._log(q.levels.INFO,e)}warn(...e){this._log(q.levels.WARNING,e)}makeError(e,t,i){if(Vr)return this.makeError("censored error",t,{});t||(t=q.errors.UNKNOWN_ERROR),i||(i={});const o=[];Object.keys(i).forEach(p=>{const y=i[p];try{if(y instanceof Uint8Array){let v="";for(let w=0;w<y.length;w++)v+=Xr[y[w]>>4],v+=Xr[y[w]&15];o.push(p+"=Uint8Array(0x"+v+")")}else o.push(p+"="+JSON.stringify(y))}catch{o.push(p+"="+JSON.stringify(i[p].toString()))}}),o.push(`code=${t}`),o.push(`version=${this.version}`);const f=e;let d="";switch(t){case ct.NUMERIC_FAULT:{d="NUMERIC_FAULT";const p=e;switch(p){case"overflow":case"underflow":case"division-by-zero":d+="-"+p;break;case"negative-power":case"negative-width":d+="-unsupported";break;case"unbound-bitwise-result":d+="-unbound-result";break}break}case ct.CALL_EXCEPTION:case ct.INSUFFICIENT_FUNDS:case ct.MISSING_NEW:case ct.NONCE_EXPIRED:case ct.REPLACEMENT_UNDERPRICED:case ct.TRANSACTION_REPLACED:case ct.UNPREDICTABLE_GAS_LIMIT:d=t;break}d&&(e+=" [ See: https://links.ethers.org/v5-errors-"+d+" ]"),o.length&&(e+=" ("+o.join(", ")+")");const u=new Error(e);return u.reason=f,u.code=t,Object.keys(i).forEach(function(p){u[p]=i[p]}),u}throwError(e,t,i){throw this.makeError(e,t,i)}throwArgumentError(e,t,i){return this.throwError(e,q.errors.INVALID_ARGUMENT,{argument:t,value:i})}assert(e,t,i,o){e||this.throwError(t,i,o)}assertArgument(e,t,i,o){e||this.throwArgumentError(t,i,o)}checkNormalize(e){jr&&this.throwError("platform missing String.prototype.normalize",q.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:jr})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,q.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,q.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,i){i?i=": "+i:i="",e<t&&this.throwError("missing argument"+i,q.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+i,q.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",q.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",q.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",q.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return dr||(dr=new q(yn)),dr}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",q.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Jr){if(!e)return;this.globalLogger().throwError("error censorship permanent",q.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Vr=!!e,Jr=!!t}static setLogLevel(e){const t=O0[e.toLowerCase()];if(t==null){q.globalLogger().warn("invalid log level - "+e);return}Zr=t}static from(e){return new q(e)}}q.errors=ct;q.levels=Sr;const Mn="bytes/5.8.0",ze=new q(Mn);function Mi(r){return!!r.toHexString}function o0(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return o0(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function Tr(r){return We(r)&&!(r.length%2)||V0(r)}function Yr(r){return typeof r=="number"&&r==r&&r%1===0}function V0(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!Yr(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!Yr(t)||t<0||t>=256)return!1}return!0}function G(r,e){if(e||(e={}),typeof r=="number"){ze.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),o0(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Mi(r)&&(r=r.toHexString()),We(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":ze.throwArgumentError("hex data is odd-length","value",r));const i=[];for(let o=0;o<t.length;o+=2)i.push(parseInt(t.substring(o,o+2),16));return o0(new Uint8Array(i))}return V0(r)?o0(new Uint8Array(r)):ze.throwArgumentError("invalid arrayify value","value",r)}function Tt(r){const e=r.map(o=>G(o)),t=e.reduce((o,f)=>o+f.length,0),i=new Uint8Array(t);return e.reduce((o,f)=>(i.set(f,o),o+f.length),0),o0(i)}function kt(r){let e=G(r);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function Sn(r,e){r=G(r),r.length>e&&ze.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),o0(t)}function We(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const hr="0123456789abcdef";function j(r,e){if(e||(e={}),typeof r=="number"){ze.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=hr[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Mi(r))return r.toHexString();if(We(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":ze.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(V0(r)){let t="0x";for(let i=0;i<r.length;i++){let o=r[i];t+=hr[(o&240)>>4]+hr[o&15]}return t}return ze.throwArgumentError("invalid hexlify value","value",r)}function Si(r){if(typeof r!="string")r=j(r);else if(!We(r)||r.length%2)return null;return(r.length-2)/2}function A0(r,e,t){return typeof r!="string"?r=j(r):(!We(r)||r.length%2)&&ze.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function c0(r){let e="0x";return r.forEach(t=>{e+=j(t).substring(2)}),e}function tt(r,e){for(typeof r!="string"?r=j(r):We(r)||ze.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&ze.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function N0(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Tr(r)){let t=G(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=j(t.slice(0,32)),e.s=j(t.slice(32,64))):t.length===65?(e.r=j(t.slice(0,32)),e.s=j(t.slice(32,64)),e.v=t[64]):ze.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:ze.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=j(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const o=Sn(G(e._vs),32);e._vs=j(o);const f=o[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=f:e.recoveryParam!==f&&ze.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),o[0]&=127;const d=j(o);e.s==null?e.s=d:e.s!==d&&ze.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?ze.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&ze.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!We(e.r)?ze.throwArgumentError("signature missing or invalid r","signature",r):e.r=tt(e.r,32),e.s==null||!We(e.s)?ze.throwArgumentError("signature missing or invalid s","signature",r):e.s=tt(e.s,32);const t=G(e.s);t[0]>=128&&ze.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const i=j(t);e._vs&&(We(e._vs)||ze.throwArgumentError("signature invalid _vs","signature",r),e._vs=tt(e._vs,32)),e._vs==null?e._vs=i:e._vs!==i&&ze.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Qr(r){return r=N0(r),j(Tt([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}const An="bignumber/5.8.0";var z0=V.BN;const wt=new q(An),ur={},_n=9007199254740991;let ei=!1;class fe{constructor(e,t){e!==ur&&wt.throwError("cannot call constructor directly; use BigNumber.from",q.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Je(ee(this).fromTwos(e))}toTwos(e){return Je(ee(this).toTwos(e))}abs(){return this._hex[0]==="-"?fe.from(this._hex.substring(1)):this}add(e){return Je(ee(this).add(ee(e)))}sub(e){return Je(ee(this).sub(ee(e)))}div(e){return fe.from(e).isZero()&&Qe("division-by-zero","div"),Je(ee(this).div(ee(e)))}mul(e){return Je(ee(this).mul(ee(e)))}mod(e){const t=ee(e);return t.isNeg()&&Qe("division-by-zero","mod"),Je(ee(this).umod(t))}pow(e){const t=ee(e);return t.isNeg()&&Qe("negative-power","pow"),Je(ee(this).pow(t))}and(e){const t=ee(e);return(this.isNegative()||t.isNeg())&&Qe("unbound-bitwise-result","and"),Je(ee(this).and(t))}or(e){const t=ee(e);return(this.isNegative()||t.isNeg())&&Qe("unbound-bitwise-result","or"),Je(ee(this).or(t))}xor(e){const t=ee(e);return(this.isNegative()||t.isNeg())&&Qe("unbound-bitwise-result","xor"),Je(ee(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&Qe("negative-width","mask"),Je(ee(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Qe("negative-width","shl"),Je(ee(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Qe("negative-width","shr"),Je(ee(this).shrn(e))}eq(e){return ee(this).eq(ee(e))}lt(e){return ee(this).lt(ee(e))}lte(e){return ee(this).lte(ee(e))}gt(e){return ee(this).gt(ee(e))}gte(e){return ee(this).gte(ee(e))}isNegative(){return this._hex[0]==="-"}isZero(){return ee(this).isZero()}toNumber(){try{return ee(this).toNumber()}catch{Qe("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return wt.throwError("this platform does not support BigInt",q.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?ei||(ei=!0,wt.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?wt.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",q.errors.UNEXPECTED_ARGUMENT,{}):wt.throwError("BigNumber.toString does not accept parameters",q.errors.UNEXPECTED_ARGUMENT,{})),ee(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof fe)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new fe(ur,_0(e)):e.match(/^-?[0-9]+$/)?new fe(ur,_0(new z0(e))):wt.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Qe("underflow","BigNumber.from",e),(e>=_n||e<=-9007199254740991)&&Qe("overflow","BigNumber.from",e),fe.from(String(e));const t=e;if(typeof t=="bigint")return fe.from(t.toString());if(V0(t))return fe.from(j(t));if(t)if(t.toHexString){const i=t.toHexString();if(typeof i=="string")return fe.from(i)}else{let i=t._hex;if(i==null&&t.type==="BigNumber"&&(i=t.hex),typeof i=="string"&&(We(i)||i[0]==="-"&&We(i.substring(1))))return fe.from(i)}return wt.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function _0(r){if(typeof r!="string")return _0(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&wt.throwArgumentError("invalid hex","value",r),r=_0(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function Je(r){return fe.from(_0(r))}function ee(r){const e=fe.from(r).toHexString();return e[0]==="-"?new z0("-"+e.substring(3),16):new z0(e.substring(2),16)}function Qe(r,e,t){const i={fault:r,operation:e};return t!=null&&(i.value=t),wt.throwError(r,q.errors.NUMERIC_FAULT,i)}function En(r){return new z0(r,36).toString(16)}const Pn="properties/5.8.0";var Cn=function(r,e,t,i){function o(f){return f instanceof t?f:new t(function(d){d(f)})}return new(t||(t=Promise))(function(f,d){function u(v){try{y(i.next(v))}catch(w){d(w)}}function p(v){try{y(i.throw(v))}catch(w){d(w)}}function y(v){v.done?f(v.value):o(v.value).then(u,p)}y((i=i.apply(r,e||[])).next())})};const K0=new q(Pn);function Y(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function a0(r){return Cn(this,void 0,void 0,function*(){const e=Object.keys(r).map(i=>{const o=r[i];return Promise.resolve(o).then(f=>({key:i,value:f}))});return(yield Promise.all(e)).reduce((i,o)=>(i[o.key]=o.value,i),{})})}function In(r,e){(!r||typeof r!="object")&&K0.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(t=>{e[t]||K0.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}function Ar(r){const e={};for(const t in r)e[t]=r[t];return e}const Nn={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Ai(r){if(r==null||Nn[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let i=null;try{i=r[e[t]]}catch{continue}if(!Ai(i))return!1}return!0}return K0.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function Rn(r){if(Ai(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>G0(e)));if(typeof r=="object"){const e={};for(const t in r){const i=r[t];i!==void 0&&Y(e,t,G0(i))}return e}return K0.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function G0(r){return Rn(r)}class _i{constructor(e){for(const t in e)this[t]=G0(e[t])}}var Ei={exports:{}};(function(r){var e={};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(){var t="input is invalid type",i="finalize already called",o=typeof window=="object",f=o?window:{};f.JS_SHA3_NO_WINDOW&&(o=!1);var d=!o&&typeof self=="object",u=!f.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;u?f=e:d&&(f=self);var p=!f.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,y=!f.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",v="0123456789abcdef".split(""),w=[31,7936,2031616,520093696],I=[4,1024,262144,67108864],k=[1,256,65536,16777216],F=[6,1536,393216,100663296],C=[0,8,16,24],M=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],T=[224,256,384,512],U=[128,256],K=["hex","buffer","arrayBuffer","array","digest"],H={128:168,256:136};(f.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"}),y&&(f.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(c){return typeof c=="object"&&c.buffer&&c.buffer.constructor===ArrayBuffer});for(var O=function(c,R,P){return function(N){return new h(c,R,c).update(N)[P]()}},$=function(c,R,P){return function(N,D){return new h(c,R,D).update(N)[P]()}},X=function(c,R,P){return function(N,D,B,L){return s["cshake"+c].update(N,D,B,L)[P]()}},Z=function(c,R,P){return function(N,D,B,L){return s["kmac"+c].update(N,D,B,L)[P]()}},re=function(c,R,P,N){for(var D=0;D<K.length;++D){var B=K[D];c[B]=R(P,N,B)}return c},ie=function(c,R){var P=O(c,R,"hex");return P.create=function(){return new h(c,R,c)},P.update=function(N){return P.create().update(N)},re(P,O,c,R)},J=function(c,R){var P=$(c,R,"hex");return P.create=function(N){return new h(c,R,N)},P.update=function(N,D){return P.create(D).update(N)},re(P,$,c,R)},ne=function(c,R){var P=H[c],N=X(c,R,"hex");return N.create=function(D,B,L){return!B&&!L?s["shake"+c].create(D):new h(c,R,D).bytepad([B,L],P)},N.update=function(D,B,L,W){return N.create(B,L,W).update(D)},re(N,X,c,R)},g=function(c,R){var P=H[c],N=Z(c,R,"hex");return N.create=function(D,B,L){return new A(c,R,B).bytepad(["KMAC",L],P).bytepad([D],P)},N.update=function(D,B,L,W){return N.create(D,L,W).update(B)},re(N,Z,c,R)},n=[{name:"keccak",padding:k,bits:T,createMethod:ie},{name:"sha3",padding:F,bits:T,createMethod:ie},{name:"shake",padding:w,bits:U,createMethod:J},{name:"cshake",padding:I,bits:U,createMethod:ne},{name:"kmac",padding:I,bits:U,createMethod:g}],s={},l=[],b=0;b<n.length;++b)for(var m=n[b],S=m.bits,E=0;E<S.length;++E){var x=m.name+"_"+S[E];if(l.push(x),s[x]=m.createMethod(S[E],m.padding),m.name!=="sha3"){var a=m.name+S[E];l.push(a),s[a]=s[x]}}function h(c,R,P){this.blocks=[],this.s=[],this.padding=R,this.outputBits=P,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(c<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=P>>5,this.extraBytes=(P&31)>>3;for(var N=0;N<50;++N)this.s[N]=0}h.prototype.update=function(c){if(this.finalized)throw new Error(i);var R,P=typeof c;if(P!=="string"){if(P==="object"){if(c===null)throw new Error(t);if(y&&c.constructor===ArrayBuffer)c=new Uint8Array(c);else if(!Array.isArray(c)&&(!y||!ArrayBuffer.isView(c)))throw new Error(t)}else throw new Error(t);R=!0}for(var N=this.blocks,D=this.byteCount,B=c.length,L=this.blockCount,W=0,Q=this.s,z,ae;W<B;){if(this.reset)for(this.reset=!1,N[0]=this.block,z=1;z<L+1;++z)N[z]=0;if(R)for(z=this.start;W<B&&z<D;++W)N[z>>2]|=c[W]<<C[z++&3];else for(z=this.start;W<B&&z<D;++W)ae=c.charCodeAt(W),ae<128?N[z>>2]|=ae<<C[z++&3]:ae<2048?(N[z>>2]|=(192|ae>>6)<<C[z++&3],N[z>>2]|=(128|ae&63)<<C[z++&3]):ae<55296||ae>=57344?(N[z>>2]|=(224|ae>>12)<<C[z++&3],N[z>>2]|=(128|ae>>6&63)<<C[z++&3],N[z>>2]|=(128|ae&63)<<C[z++&3]):(ae=65536+((ae&1023)<<10|c.charCodeAt(++W)&1023),N[z>>2]|=(240|ae>>18)<<C[z++&3],N[z>>2]|=(128|ae>>12&63)<<C[z++&3],N[z>>2]|=(128|ae>>6&63)<<C[z++&3],N[z>>2]|=(128|ae&63)<<C[z++&3]);if(this.lastByteIndex=z,z>=D){for(this.start=z-D,this.block=N[L],z=0;z<L;++z)Q[z]^=N[z];_(Q),this.reset=!0}else this.start=z}return this},h.prototype.encode=function(c,R){var P=c&255,N=1,D=[P];for(c=c>>8,P=c&255;P>0;)D.unshift(P),c=c>>8,P=c&255,++N;return R?D.push(N):D.unshift(N),this.update(D),D.length},h.prototype.encodeString=function(c){var R,P=typeof c;if(P!=="string"){if(P==="object"){if(c===null)throw new Error(t);if(y&&c.constructor===ArrayBuffer)c=new Uint8Array(c);else if(!Array.isArray(c)&&(!y||!ArrayBuffer.isView(c)))throw new Error(t)}else throw new Error(t);R=!0}var N=0,D=c.length;if(R)N=D;else for(var B=0;B<c.length;++B){var L=c.charCodeAt(B);L<128?N+=1:L<2048?N+=2:L<55296||L>=57344?N+=3:(L=65536+((L&1023)<<10|c.charCodeAt(++B)&1023),N+=4)}return N+=this.encode(N*8),this.update(c),N},h.prototype.bytepad=function(c,R){for(var P=this.encode(R),N=0;N<c.length;++N)P+=this.encodeString(c[N]);var D=R-P%R,B=[];return B.length=D,this.update(B),this},h.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var c=this.blocks,R=this.lastByteIndex,P=this.blockCount,N=this.s;if(c[R>>2]|=this.padding[R&3],this.lastByteIndex===this.byteCount)for(c[0]=c[P],R=1;R<P+1;++R)c[R]=0;for(c[P-1]|=2147483648,R=0;R<P;++R)N[R]^=c[R];_(N)}},h.prototype.toString=h.prototype.hex=function(){this.finalize();for(var c=this.blockCount,R=this.s,P=this.outputBlocks,N=this.extraBytes,D=0,B=0,L="",W;B<P;){for(D=0;D<c&&B<P;++D,++B)W=R[D],L+=v[W>>4&15]+v[W&15]+v[W>>12&15]+v[W>>8&15]+v[W>>20&15]+v[W>>16&15]+v[W>>28&15]+v[W>>24&15];B%c===0&&(_(R),D=0)}return N&&(W=R[D],L+=v[W>>4&15]+v[W&15],N>1&&(L+=v[W>>12&15]+v[W>>8&15]),N>2&&(L+=v[W>>20&15]+v[W>>16&15])),L},h.prototype.arrayBuffer=function(){this.finalize();var c=this.blockCount,R=this.s,P=this.outputBlocks,N=this.extraBytes,D=0,B=0,L=this.outputBits>>3,W;N?W=new ArrayBuffer(P+1<<2):W=new ArrayBuffer(L);for(var Q=new Uint32Array(W);B<P;){for(D=0;D<c&&B<P;++D,++B)Q[B]=R[D];B%c===0&&_(R)}return N&&(Q[D]=R[D],W=W.slice(0,L)),W},h.prototype.buffer=h.prototype.arrayBuffer,h.prototype.digest=h.prototype.array=function(){this.finalize();for(var c=this.blockCount,R=this.s,P=this.outputBlocks,N=this.extraBytes,D=0,B=0,L=[],W,Q;B<P;){for(D=0;D<c&&B<P;++D,++B)W=B<<2,Q=R[D],L[W]=Q&255,L[W+1]=Q>>8&255,L[W+2]=Q>>16&255,L[W+3]=Q>>24&255;B%c===0&&_(R)}return N&&(W=B<<2,Q=R[D],L[W]=Q&255,N>1&&(L[W+1]=Q>>8&255),N>2&&(L[W+2]=Q>>16&255)),L};function A(c,R,P){h.call(this,c,R,P)}A.prototype=new h,A.prototype.finalize=function(){return this.encode(this.outputBits,!0),h.prototype.finalize.call(this)};var _=function(c){var R,P,N,D,B,L,W,Q,z,ae,oe,ce,Ot,se,xe,Dt,de,he,Lt,ue,le,Ut,be,pe,zt,ve,me,Kt,ge,ye,Gt,we,Me,$t,Se,Ae,Ht,_e,Ee,qt,Pe,Ce,Wt,Ie,Ne,Jt,Re,ke,Vt,Te,Fe,Zt,Be,Oe,jt,De,Le,_t,Et,Pt,Ct,It,Nt;for(N=0;N<48;N+=2)D=c[0]^c[10]^c[20]^c[30]^c[40],B=c[1]^c[11]^c[21]^c[31]^c[41],L=c[2]^c[12]^c[22]^c[32]^c[42],W=c[3]^c[13]^c[23]^c[33]^c[43],Q=c[4]^c[14]^c[24]^c[34]^c[44],z=c[5]^c[15]^c[25]^c[35]^c[45],ae=c[6]^c[16]^c[26]^c[36]^c[46],oe=c[7]^c[17]^c[27]^c[37]^c[47],ce=c[8]^c[18]^c[28]^c[38]^c[48],Ot=c[9]^c[19]^c[29]^c[39]^c[49],R=ce^(L<<1|W>>>31),P=Ot^(W<<1|L>>>31),c[0]^=R,c[1]^=P,c[10]^=R,c[11]^=P,c[20]^=R,c[21]^=P,c[30]^=R,c[31]^=P,c[40]^=R,c[41]^=P,R=D^(Q<<1|z>>>31),P=B^(z<<1|Q>>>31),c[2]^=R,c[3]^=P,c[12]^=R,c[13]^=P,c[22]^=R,c[23]^=P,c[32]^=R,c[33]^=P,c[42]^=R,c[43]^=P,R=L^(ae<<1|oe>>>31),P=W^(oe<<1|ae>>>31),c[4]^=R,c[5]^=P,c[14]^=R,c[15]^=P,c[24]^=R,c[25]^=P,c[34]^=R,c[35]^=P,c[44]^=R,c[45]^=P,R=Q^(ce<<1|Ot>>>31),P=z^(Ot<<1|ce>>>31),c[6]^=R,c[7]^=P,c[16]^=R,c[17]^=P,c[26]^=R,c[27]^=P,c[36]^=R,c[37]^=P,c[46]^=R,c[47]^=P,R=ae^(D<<1|B>>>31),P=oe^(B<<1|D>>>31),c[8]^=R,c[9]^=P,c[18]^=R,c[19]^=P,c[28]^=R,c[29]^=P,c[38]^=R,c[39]^=P,c[48]^=R,c[49]^=P,se=c[0],xe=c[1],Jt=c[11]<<4|c[10]>>>28,Re=c[10]<<4|c[11]>>>28,Kt=c[20]<<3|c[21]>>>29,ge=c[21]<<3|c[20]>>>29,Pt=c[31]<<9|c[30]>>>23,Ct=c[30]<<9|c[31]>>>23,Ce=c[40]<<18|c[41]>>>14,Wt=c[41]<<18|c[40]>>>14,$t=c[2]<<1|c[3]>>>31,Se=c[3]<<1|c[2]>>>31,Dt=c[13]<<12|c[12]>>>20,de=c[12]<<12|c[13]>>>20,ke=c[22]<<10|c[23]>>>22,Vt=c[23]<<10|c[22]>>>22,ye=c[33]<<13|c[32]>>>19,Gt=c[32]<<13|c[33]>>>19,It=c[42]<<2|c[43]>>>30,Nt=c[43]<<2|c[42]>>>30,Oe=c[5]<<30|c[4]>>>2,jt=c[4]<<30|c[5]>>>2,Ae=c[14]<<6|c[15]>>>26,Ht=c[15]<<6|c[14]>>>26,he=c[25]<<11|c[24]>>>21,Lt=c[24]<<11|c[25]>>>21,Te=c[34]<<15|c[35]>>>17,Fe=c[35]<<15|c[34]>>>17,we=c[45]<<29|c[44]>>>3,Me=c[44]<<29|c[45]>>>3,pe=c[6]<<28|c[7]>>>4,zt=c[7]<<28|c[6]>>>4,De=c[17]<<23|c[16]>>>9,Le=c[16]<<23|c[17]>>>9,_e=c[26]<<25|c[27]>>>7,Ee=c[27]<<25|c[26]>>>7,ue=c[36]<<21|c[37]>>>11,le=c[37]<<21|c[36]>>>11,Zt=c[47]<<24|c[46]>>>8,Be=c[46]<<24|c[47]>>>8,Ie=c[8]<<27|c[9]>>>5,Ne=c[9]<<27|c[8]>>>5,ve=c[18]<<20|c[19]>>>12,me=c[19]<<20|c[18]>>>12,_t=c[29]<<7|c[28]>>>25,Et=c[28]<<7|c[29]>>>25,qt=c[38]<<8|c[39]>>>24,Pe=c[39]<<8|c[38]>>>24,Ut=c[48]<<14|c[49]>>>18,be=c[49]<<14|c[48]>>>18,c[0]=se^~Dt&he,c[1]=xe^~de&Lt,c[10]=pe^~ve&Kt,c[11]=zt^~me&ge,c[20]=$t^~Ae&_e,c[21]=Se^~Ht&Ee,c[30]=Ie^~Jt&ke,c[31]=Ne^~Re&Vt,c[40]=Oe^~De&_t,c[41]=jt^~Le&Et,c[2]=Dt^~he&ue,c[3]=de^~Lt&le,c[12]=ve^~Kt&ye,c[13]=me^~ge&Gt,c[22]=Ae^~_e&qt,c[23]=Ht^~Ee&Pe,c[32]=Jt^~ke&Te,c[33]=Re^~Vt&Fe,c[42]=De^~_t&Pt,c[43]=Le^~Et&Ct,c[4]=he^~ue&Ut,c[5]=Lt^~le&be,c[14]=Kt^~ye&we,c[15]=ge^~Gt&Me,c[24]=_e^~qt&Ce,c[25]=Ee^~Pe&Wt,c[34]=ke^~Te&Zt,c[35]=Vt^~Fe&Be,c[44]=_t^~Pt&It,c[45]=Et^~Ct&Nt,c[6]=ue^~Ut&se,c[7]=le^~be&xe,c[16]=ye^~we&pe,c[17]=Gt^~Me&zt,c[26]=qt^~Ce&$t,c[27]=Pe^~Wt&Se,c[36]=Te^~Zt&Ie,c[37]=Fe^~Be&Ne,c[46]=Pt^~It&Oe,c[47]=Ct^~Nt&jt,c[8]=Ut^~se&Dt,c[9]=be^~xe&de,c[18]=we^~pe&ve,c[19]=Me^~zt&me,c[28]=Ce^~$t&Ae,c[29]=Wt^~Se&Ht,c[38]=Zt^~Ie&Jt,c[39]=Be^~Ne&Re,c[48]=It^~Oe&De,c[49]=Nt^~jt&Le,c[0]^=M[N],c[1]^=M[N+1]};if(p)r.exports=s;else for(b=0;b<l.length;++b)f[l[b]]=s[l[b]]})()})(Ei);var kn=Ei.exports;const Tn=I0(kn);function qe(r){return"0x"+Tn.keccak_256(G(r))}const Fn="rlp/5.8.0",Bn=new q(Fn);function ti(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function Pi(r){if(Array.isArray(r)){let i=[];if(r.forEach(function(f){i=i.concat(Pi(f))}),i.length<=55)return i.unshift(192+i.length),i;const o=ti(i.length);return o.unshift(247+o.length),o.concat(i)}Tr(r)||Bn.throwArgumentError("RLP object must be BytesLike","object",r);const e=Array.prototype.slice.call(G(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=ti(e.length);return t.unshift(183+t.length),t.concat(e)}function $0(r){return j(Pi(r))}const On="address/5.8.0",w0=new q(On);function ri(r){We(r,20)||w0.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let o=0;o<40;o++)t[o]=e[o].charCodeAt(0);const i=G(qe(t));for(let o=0;o<40;o+=2)i[o>>1]>>4>=8&&(e[o]=e[o].toUpperCase()),(i[o>>1]&15)>=8&&(e[o+1]=e[o+1].toUpperCase());return"0x"+e.join("")}const Dn=9007199254740991;function Ln(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const Fr={};for(let r=0;r<10;r++)Fr[String(r)]=String(r);for(let r=0;r<26;r++)Fr[String.fromCharCode(65+r)]=String(10+r);const ii=Math.floor(Ln(Dn));function Un(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(i=>Fr[i]).join("");for(;e.length>=ii;){let i=e.substring(0,ii);e=parseInt(i,10)%97+e.substring(i.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function dt(r){let e=null;if(typeof r!="string"&&w0.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=ri(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&w0.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==Un(r)&&w0.throwArgumentError("bad icap checksum","address",r),e=En(r.substring(4));e.length<40;)e="0"+e;e=ri("0x"+e)}else w0.throwArgumentError("invalid address","address",r);return e}const zn="strings/5.8.0",Kn=new q(zn);var e0;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(e0||(e0={}));var ni;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(ni||(ni={}));function Mt(r,e=e0.current){e!=e0.current&&(Kn.checkNormalize(),r=r.normalize(e));let t=[];for(let i=0;i<r.length;i++){const o=r.charCodeAt(i);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192),t.push(o&63|128);else if((o&64512)==55296){i++;const f=r.charCodeAt(i);if(i>=r.length||(f&64512)!==56320)throw new Error("invalid utf-8 string");const d=65536+((o&1023)<<10)+(f&1023);t.push(d>>18|240),t.push(d>>12&63|128),t.push(d>>6&63|128),t.push(d&63|128)}else t.push(o>>12|224),t.push(o>>6&63|128),t.push(o&63|128)}return G(t)}function Br(r){return qe(Mt(r))}const Gn="hash/5.8.0",$n=`Ethereum Signed Message:
`;function Hn(r){return typeof r=="string"&&(r=Mt(r)),qe(Tt([Mt($n),Mt(String(r.length)),r]))}var qn=function(r,e,t,i){function o(f){return f instanceof t?f:new t(function(d){d(f)})}return new(t||(t=Promise))(function(f,d){function u(v){try{y(i.next(v))}catch(w){d(w)}}function p(v){try{y(i.throw(v))}catch(w){d(w)}}function y(v){v.done?f(v.value):o(v.value).then(u,p)}y((i=i.apply(r,e||[])).next())})};const Ue=new q(Gn),Ci=new Uint8Array(32);Ci.fill(0);const Wn=fe.from(-1),Ii=fe.from(0),Ni=fe.from(1),Jn=fe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Vn(r){const e=G(r),t=e.length%32;return t?c0([e,Ci.slice(t)]):j(e)}const Zn=tt(Ni.toHexString(),32),jn=tt(Ii.toHexString(),32),fi={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},lr=["name","version","chainId","verifyingContract","salt"];function ai(r){return function(e){return typeof e!="string"&&Ue.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const Xn={name:ai("name"),version:ai("version"),chainId:function(r){try{return fe.from(r).toString()}catch{}return Ue.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return dt(r).toLowerCase()}catch{}return Ue.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const e=G(r);if(e.length!==32)throw new Error("bad length");return j(e)}catch{}return Ue.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function br(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",i=parseInt(e[2]||"256");(i%8!==0||i>256||e[2]&&e[2]!==String(i))&&Ue.throwArgumentError("invalid numeric width","type",r);const o=Jn.mask(t?i-1:i),f=t?o.add(Ni).mul(Wn):Ii;return function(d){const u=fe.from(d);return(u.lt(f)||u.gt(o))&&Ue.throwArgumentError(`value out-of-bounds for ${r}`,"value",d),tt(u.toTwos(256).toHexString(),32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&Ue.throwArgumentError("invalid bytes width","type",r),function(i){return G(i).length!==t&&Ue.throwArgumentError(`invalid length for ${r}`,"value",i),Vn(i)}}}switch(r){case"address":return function(e){return tt(dt(e),32)};case"bool":return function(e){return e?Zn:jn};case"bytes":return function(e){return qe(e)};case"string":return function(e){return Br(e)}}return null}function oi(r,e){return`${r}(${e.map(({name:t,type:i})=>i+" "+t).join(",")})`}class Ze{constructor(e){Y(this,"types",Object.freeze(G0(e))),Y(this,"_encoderCache",{}),Y(this,"_types",{});const t={},i={},o={};Object.keys(e).forEach(u=>{t[u]={},i[u]=[],o[u]={}});for(const u in e){const p={};e[u].forEach(y=>{p[y.name]&&Ue.throwArgumentError(`duplicate variable name ${JSON.stringify(y.name)} in ${JSON.stringify(u)}`,"types",e),p[y.name]=!0;const v=y.type.match(/^([^\x5b]*)(\x5b|$)/)[1];v===u&&Ue.throwArgumentError(`circular type reference to ${JSON.stringify(v)}`,"types",e),!br(v)&&(i[v]||Ue.throwArgumentError(`unknown type ${JSON.stringify(v)}`,"types",e),i[v].push(u),t[u][v]=!0)})}const f=Object.keys(i).filter(u=>i[u].length===0);f.length===0?Ue.throwArgumentError("missing primary type","types",e):f.length>1&&Ue.throwArgumentError(`ambiguous primary types or unused types: ${f.map(u=>JSON.stringify(u)).join(", ")}`,"types",e),Y(this,"primaryType",f[0]);function d(u,p){p[u]&&Ue.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),p[u]=!0,Object.keys(t[u]).forEach(y=>{i[y]&&(d(y,p),Object.keys(p).forEach(v=>{o[v][y]=!0}))}),delete p[u]}d(this.primaryType,{});for(const u in o){const p=Object.keys(o[u]);p.sort(),this._types[u]=oi(u,e[u])+p.map(y=>oi(y,e[y])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const o=br(e);if(o)return o}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const o=t[1],f=this.getEncoder(o),d=parseInt(t[3]);return u=>{d>=0&&u.length!==d&&Ue.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",u);let p=u.map(f);return this._types[o]&&(p=p.map(qe)),qe(c0(p))}}const i=this.types[e];if(i){const o=Br(this._types[e]);return f=>{const d=i.map(({name:u,type:p})=>{const y=this.getEncoder(p)(f[u]);return this._types[p]?qe(y):y});return d.unshift(o),c0(d)}}return Ue.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||Ue.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return qe(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,i){if(br(e))return i(e,t);const o=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(o){const d=o[1],u=parseInt(o[3]);return u>=0&&t.length!==u&&Ue.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(p=>this._visit(d,p,i))}const f=this.types[e];return f?f.reduce((d,{name:u,type:p})=>(d[u]=this._visit(p,t[u],i),d),{}):Ue.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Ze(e)}static getPrimaryType(e){return Ze.from(e).primaryType}static hashStruct(e,t,i){return Ze.from(t).hashStruct(e,i)}static hashDomain(e){const t=[];for(const i in e){const o=fi[i];o||Ue.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(i)}`,"domain",e),t.push({name:i,type:o})}return t.sort((i,o)=>lr.indexOf(i.name)-lr.indexOf(o.name)),Ze.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,i){return c0(["0x1901",Ze.hashDomain(e),Ze.from(t).hash(i)])}static hash(e,t,i){return qe(Ze.encode(e,t,i))}static resolveNames(e,t,i,o){return qn(this,void 0,void 0,function*(){e=Ar(e);const f={};e.verifyingContract&&!We(e.verifyingContract,20)&&(f[e.verifyingContract]="0x");const d=Ze.from(t);d.visit(i,(u,p)=>(u==="address"&&!We(p,20)&&(f[p]="0x"),p));for(const u in f)f[u]=yield o(u);return e.verifyingContract&&f[e.verifyingContract]&&(e.verifyingContract=f[e.verifyingContract]),i=d.visit(i,(u,p)=>u==="address"&&f[p]?f[p]:p),{domain:e,value:i}})}static getPayload(e,t,i){Ze.hashDomain(e);const o={},f=[];lr.forEach(p=>{const y=e[p];y!=null&&(o[p]=Xn[p](y),f.push({name:p,type:fi[p]}))});const d=Ze.from(t),u=Ar(t);return u.EIP712Domain?Ue.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):u.EIP712Domain=f,d.encode(i),{types:u,domain:o,primaryType:d.primaryType,message:d.visit(i,(p,y)=>{if(p.match(/^bytes(\d*)/))return j(G(y));if(p.match(/^u?int/))return fe.from(y).toString();switch(p){case"address":return y.toLowerCase();case"bool":return!!y;case"string":return typeof y!="string"&&Ue.throwArgumentError("invalid string","value",y),y}return Ue.throwArgumentError("unsupported type","type",p)})}}}const Yn="abstract-provider/5.8.0";var Qn=function(r,e,t,i){function o(f){return f instanceof t?f:new t(function(d){d(f)})}return new(t||(t=Promise))(function(f,d){function u(v){try{y(i.next(v))}catch(w){d(w)}}function p(v){try{y(i.throw(v))}catch(w){d(w)}}function y(v){v.done?f(v.value):o(v.value).then(u,p)}y((i=i.apply(r,e||[])).next())})};const ef=new q(Yn);class Or{constructor(){ef.checkAbstract(new.target,Or),Y(this,"_isProvider",!0)}getFeeData(){return Qn(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield a0({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(d=>null)});let i=null,o=null,f=null;return e&&e.baseFeePerGas&&(i=e.baseFeePerGas,f=fe.from("1500000000"),o=e.baseFeePerGas.mul(2).add(f)),{lastBaseFeePerGas:i,maxFeePerGas:o,maxPriorityFeePerGas:f,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const tf="abstract-signer/5.8.0";var ft=function(r,e,t,i){function o(f){return f instanceof t?f:new t(function(d){d(f)})}return new(t||(t=Promise))(function(f,d){function u(v){try{y(i.next(v))}catch(w){d(w)}}function p(v){try{y(i.throw(v))}catch(w){d(w)}}function y(v){v.done?f(v.value):o(v.value).then(u,p)}y((i=i.apply(r,e||[])).next())})};const at=new q(tf),rf=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],nf=[q.errors.INSUFFICIENT_FUNDS,q.errors.NONCE_EXPIRED,q.errors.REPLACEMENT_UNDERPRICED];class Dr{constructor(){at.checkAbstract(new.target,Dr),Y(this,"_isSigner",!0)}getBalance(e){return ft(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return ft(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return ft(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield a0(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return ft(this,void 0,void 0,function*(){this._checkProvider("call");const i=yield a0(this.checkTransaction(e));return yield this.provider.call(i,t)})}sendTransaction(e){return ft(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),i=yield this.signTransaction(t);return yield this.provider.sendTransaction(i)})}getChainId(){return ft(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return ft(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return ft(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return ft(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const i in e)rf.indexOf(i)===-1&&at.throwArgumentError("invalid transaction key: "+i,"transaction",e);const t=Ar(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(i=>(i[0].toLowerCase()!==i[1].toLowerCase()&&at.throwArgumentError("from address mismatch","transaction",e),i[0])),t}populateTransaction(e){return ft(this,void 0,void 0,function*(){const t=yield a0(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(o=>ft(this,void 0,void 0,function*(){if(o==null)return null;const f=yield this.resolveName(o);return f==null&&at.throwArgumentError("provided ENS name resolves to null","tx.to",o),f})),t.to.catch(o=>{}));const i=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||i)?at.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&i&&at.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const o=yield this.getFeeData();if(t.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const f=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=f,t.maxPriorityFeePerGas=f}else t.maxFeePerGas==null&&(t.maxFeePerGas=o.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(i&&at.throwError("network does not support EIP-1559",q.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=o.gasPrice),t.type=0):at.throwError("failed to get consistent fee data",q.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=o.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(o=>{if(nf.indexOf(o.code)>=0)throw o;return at.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",q.errors.UNPREDICTABLE_GAS_LIMIT,{error:o,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(o=>(o[1]!==0&&o[0]!==o[1]&&at.throwArgumentError("chainId address mismatch","transaction",e),o[0])),yield a0(t)})}_checkProvider(e){this.provider||at.throwError("missing provider",q.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}var Ri={},te={},R0=ki;function ki(r,e){if(!r)throw new Error(e||"Assertion failed")}ki.equal=function(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)};var _r={exports:{}};typeof Object.create=="function"?_r.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:_r.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}};var ff=_r.exports,af=R0,of=ff;te.inherits=of;function cf(r,e){return(r.charCodeAt(e)&64512)!==55296||e<0||e+1>=r.length?!1:(r.charCodeAt(e+1)&64512)===56320}function sf(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r=="string")if(e){if(e==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r),o=0;o<r.length;o+=2)t.push(parseInt(r[o]+r[o+1],16))}else for(var i=0,o=0;o<r.length;o++){var f=r.charCodeAt(o);f<128?t[i++]=f:f<2048?(t[i++]=f>>6|192,t[i++]=f&63|128):cf(r,o)?(f=65536+((f&1023)<<10)+(r.charCodeAt(++o)&1023),t[i++]=f>>18|240,t[i++]=f>>12&63|128,t[i++]=f>>6&63|128,t[i++]=f&63|128):(t[i++]=f>>12|224,t[i++]=f>>6&63|128,t[i++]=f&63|128)}else for(o=0;o<r.length;o++)t[o]=r[o]|0;return t}te.toArray=sf;function xf(r){for(var e="",t=0;t<r.length;t++)e+=Fi(r[t].toString(16));return e}te.toHex=xf;function Ti(r){var e=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return e>>>0}te.htonl=Ti;function df(r,e){for(var t="",i=0;i<r.length;i++){var o=r[i];e==="little"&&(o=Ti(o)),t+=Bi(o.toString(16))}return t}te.toHex32=df;function Fi(r){return r.length===1?"0"+r:r}te.zero2=Fi;function Bi(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}te.zero8=Bi;function hf(r,e,t,i){var o=t-e;af(o%4===0);for(var f=new Array(o/4),d=0,u=e;d<f.length;d++,u+=4){var p;i==="big"?p=r[u]<<24|r[u+1]<<16|r[u+2]<<8|r[u+3]:p=r[u+3]<<24|r[u+2]<<16|r[u+1]<<8|r[u],f[d]=p>>>0}return f}te.join32=hf;function uf(r,e){for(var t=new Array(r.length*4),i=0,o=0;i<r.length;i++,o+=4){var f=r[i];e==="big"?(t[o]=f>>>24,t[o+1]=f>>>16&255,t[o+2]=f>>>8&255,t[o+3]=f&255):(t[o+3]=f>>>24,t[o+2]=f>>>16&255,t[o+1]=f>>>8&255,t[o]=f&255)}return t}te.split32=uf;function lf(r,e){return r>>>e|r<<32-e}te.rotr32=lf;function bf(r,e){return r<<e|r>>>32-e}te.rotl32=bf;function pf(r,e){return r+e>>>0}te.sum32=pf;function vf(r,e,t){return r+e+t>>>0}te.sum32_3=vf;function mf(r,e,t,i){return r+e+t+i>>>0}te.sum32_4=mf;function gf(r,e,t,i,o){return r+e+t+i+o>>>0}te.sum32_5=gf;function yf(r,e,t,i){var o=r[e],f=r[e+1],d=i+f>>>0,u=(d<i?1:0)+t+o;r[e]=u>>>0,r[e+1]=d}te.sum64=yf;function wf(r,e,t,i){var o=e+i>>>0,f=(o<e?1:0)+r+t;return f>>>0}te.sum64_hi=wf;function Mf(r,e,t,i){var o=e+i;return o>>>0}te.sum64_lo=Mf;function Sf(r,e,t,i,o,f,d,u){var p=0,y=e;y=y+i>>>0,p+=y<e?1:0,y=y+f>>>0,p+=y<f?1:0,y=y+u>>>0,p+=y<u?1:0;var v=r+t+o+d+p;return v>>>0}te.sum64_4_hi=Sf;function Af(r,e,t,i,o,f,d,u){var p=e+i+f+u;return p>>>0}te.sum64_4_lo=Af;function _f(r,e,t,i,o,f,d,u,p,y){var v=0,w=e;w=w+i>>>0,v+=w<e?1:0,w=w+f>>>0,v+=w<f?1:0,w=w+u>>>0,v+=w<u?1:0,w=w+y>>>0,v+=w<y?1:0;var I=r+t+o+d+p+v;return I>>>0}te.sum64_5_hi=_f;function Ef(r,e,t,i,o,f,d,u,p,y){var v=e+i+f+u+y;return v>>>0}te.sum64_5_lo=Ef;function Pf(r,e,t){var i=e<<32-t|r>>>t;return i>>>0}te.rotr64_hi=Pf;function Cf(r,e,t){var i=r<<32-t|e>>>t;return i>>>0}te.rotr64_lo=Cf;function If(r,e,t){return r>>>t}te.shr64_hi=If;function Nf(r,e,t){var i=r<<32-t|e>>>t;return i>>>0}te.shr64_lo=Nf;var l0={},ci=te,Rf=R0;function Z0(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}l0.BlockHash=Z0;Z0.prototype.update=function(e,t){if(e=ci.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=ci.join32(e,0,e.length-i,this.endian);for(var o=0;o<e.length;o+=this._delta32)this._update(e,o,o+this._delta32)}return this};Z0.prototype.digest=function(e){return this.update(this._pad()),Rf(this.pending===null),this._digest(e)};Z0.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,i=t-(e+this.padLength)%t,o=new Array(i+this.padLength);o[0]=128;for(var f=1;f<i;f++)o[f]=0;if(e<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)o[f++]=0;o[f++]=0,o[f++]=0,o[f++]=0,o[f++]=0,o[f++]=e>>>24&255,o[f++]=e>>>16&255,o[f++]=e>>>8&255,o[f++]=e&255}else for(o[f++]=e&255,o[f++]=e>>>8&255,o[f++]=e>>>16&255,o[f++]=e>>>24&255,o[f++]=0,o[f++]=0,o[f++]=0,o[f++]=0,d=8;d<this.padLength;d++)o[f++]=0;return o};var b0={},yt={},kf=te,lt=kf.rotr32;function Tf(r,e,t,i){if(r===0)return Oi(e,t,i);if(r===1||r===3)return Li(e,t,i);if(r===2)return Di(e,t,i)}yt.ft_1=Tf;function Oi(r,e,t){return r&e^~r&t}yt.ch32=Oi;function Di(r,e,t){return r&e^r&t^e&t}yt.maj32=Di;function Li(r,e,t){return r^e^t}yt.p32=Li;function Ff(r){return lt(r,2)^lt(r,13)^lt(r,22)}yt.s0_256=Ff;function Bf(r){return lt(r,6)^lt(r,11)^lt(r,25)}yt.s1_256=Bf;function Of(r){return lt(r,7)^lt(r,18)^r>>>3}yt.g0_256=Of;function Df(r){return lt(r,17)^lt(r,19)^r>>>10}yt.g1_256=Df;var d0=te,Lf=l0,Uf=yt,pr=d0.rotl32,m0=d0.sum32,zf=d0.sum32_5,Kf=Uf.ft_1,Ui=Lf.BlockHash,Gf=[1518500249,1859775393,2400959708,3395469782];function vt(){if(!(this instanceof vt))return new vt;Ui.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}d0.inherits(vt,Ui);var $f=vt;vt.blockSize=512;vt.outSize=160;vt.hmacStrength=80;vt.padLength=64;vt.prototype._update=function(e,t){for(var i=this.W,o=0;o<16;o++)i[o]=e[t+o];for(;o<i.length;o++)i[o]=pr(i[o-3]^i[o-8]^i[o-14]^i[o-16],1);var f=this.h[0],d=this.h[1],u=this.h[2],p=this.h[3],y=this.h[4];for(o=0;o<i.length;o++){var v=~~(o/20),w=zf(pr(f,5),Kf(v,d,u,p),y,i[o],Gf[v]);y=p,p=u,u=pr(d,30),d=f,f=w}this.h[0]=m0(this.h[0],f),this.h[1]=m0(this.h[1],d),this.h[2]=m0(this.h[2],u),this.h[3]=m0(this.h[3],p),this.h[4]=m0(this.h[4],y)};vt.prototype._digest=function(e){return e==="hex"?d0.toHex32(this.h,"big"):d0.split32(this.h,"big")};var h0=te,Hf=l0,p0=yt,qf=R0,ot=h0.sum32,Wf=h0.sum32_4,Jf=h0.sum32_5,Vf=p0.ch32,Zf=p0.maj32,jf=p0.s0_256,Xf=p0.s1_256,Yf=p0.g0_256,Qf=p0.g1_256,zi=Hf.BlockHash,ea=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function mt(){if(!(this instanceof mt))return new mt;zi.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ea,this.W=new Array(64)}h0.inherits(mt,zi);var Ki=mt;mt.blockSize=512;mt.outSize=256;mt.hmacStrength=192;mt.padLength=64;mt.prototype._update=function(e,t){for(var i=this.W,o=0;o<16;o++)i[o]=e[t+o];for(;o<i.length;o++)i[o]=Wf(Qf(i[o-2]),i[o-7],Yf(i[o-15]),i[o-16]);var f=this.h[0],d=this.h[1],u=this.h[2],p=this.h[3],y=this.h[4],v=this.h[5],w=this.h[6],I=this.h[7];for(qf(this.k.length===i.length),o=0;o<i.length;o++){var k=Jf(I,Xf(y),Vf(y,v,w),this.k[o],i[o]),F=ot(jf(f),Zf(f,d,u));I=w,w=v,v=y,y=ot(p,k),p=u,u=d,d=f,f=ot(k,F)}this.h[0]=ot(this.h[0],f),this.h[1]=ot(this.h[1],d),this.h[2]=ot(this.h[2],u),this.h[3]=ot(this.h[3],p),this.h[4]=ot(this.h[4],y),this.h[5]=ot(this.h[5],v),this.h[6]=ot(this.h[6],w),this.h[7]=ot(this.h[7],I)};mt.prototype._digest=function(e){return e==="hex"?h0.toHex32(this.h,"big"):h0.split32(this.h,"big")};var Er=te,Gi=Ki;function St(){if(!(this instanceof St))return new St;Gi.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Er.inherits(St,Gi);var ta=St;St.blockSize=512;St.outSize=224;St.hmacStrength=192;St.padLength=64;St.prototype._digest=function(e){return e==="hex"?Er.toHex32(this.h.slice(0,7),"big"):Er.split32(this.h.slice(0,7),"big")};var Ve=te,ra=l0,ia=R0,bt=Ve.rotr64_hi,pt=Ve.rotr64_lo,$i=Ve.shr64_hi,Hi=Ve.shr64_lo,Rt=Ve.sum64,vr=Ve.sum64_hi,mr=Ve.sum64_lo,na=Ve.sum64_4_hi,fa=Ve.sum64_4_lo,aa=Ve.sum64_5_hi,oa=Ve.sum64_5_lo,qi=ra.BlockHash,ca=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ht(){if(!(this instanceof ht))return new ht;qi.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ca,this.W=new Array(160)}Ve.inherits(ht,qi);var Wi=ht;ht.blockSize=1024;ht.outSize=512;ht.hmacStrength=192;ht.padLength=128;ht.prototype._prepareBlock=function(e,t){for(var i=this.W,o=0;o<32;o++)i[o]=e[t+o];for(;o<i.length;o+=2){var f=ga(i[o-4],i[o-3]),d=ya(i[o-4],i[o-3]),u=i[o-14],p=i[o-13],y=va(i[o-30],i[o-29]),v=ma(i[o-30],i[o-29]),w=i[o-32],I=i[o-31];i[o]=na(f,d,u,p,y,v,w,I),i[o+1]=fa(f,d,u,p,y,v,w,I)}};ht.prototype._update=function(e,t){this._prepareBlock(e,t);var i=this.W,o=this.h[0],f=this.h[1],d=this.h[2],u=this.h[3],p=this.h[4],y=this.h[5],v=this.h[6],w=this.h[7],I=this.h[8],k=this.h[9],F=this.h[10],C=this.h[11],M=this.h[12],T=this.h[13],U=this.h[14],K=this.h[15];ia(this.k.length===i.length);for(var H=0;H<i.length;H+=2){var O=U,$=K,X=ba(I,k),Z=pa(I,k),re=sa(I,k,F,C,M),ie=xa(I,k,F,C,M,T),J=this.k[H],ne=this.k[H+1],g=i[H],n=i[H+1],s=aa(O,$,X,Z,re,ie,J,ne,g,n),l=oa(O,$,X,Z,re,ie,J,ne,g,n);O=ua(o,f),$=la(o,f),X=da(o,f,d,u,p),Z=ha(o,f,d,u,p,y);var b=vr(O,$,X,Z),m=mr(O,$,X,Z);U=M,K=T,M=F,T=C,F=I,C=k,I=vr(v,w,s,l),k=mr(w,w,s,l),v=p,w=y,p=d,y=u,d=o,u=f,o=vr(s,l,b,m),f=mr(s,l,b,m)}Rt(this.h,0,o,f),Rt(this.h,2,d,u),Rt(this.h,4,p,y),Rt(this.h,6,v,w),Rt(this.h,8,I,k),Rt(this.h,10,F,C),Rt(this.h,12,M,T),Rt(this.h,14,U,K)};ht.prototype._digest=function(e){return e==="hex"?Ve.toHex32(this.h,"big"):Ve.split32(this.h,"big")};function sa(r,e,t,i,o){var f=r&t^~r&o;return f<0&&(f+=4294967296),f}function xa(r,e,t,i,o,f){var d=e&i^~e&f;return d<0&&(d+=4294967296),d}function da(r,e,t,i,o){var f=r&t^r&o^t&o;return f<0&&(f+=4294967296),f}function ha(r,e,t,i,o,f){var d=e&i^e&f^i&f;return d<0&&(d+=4294967296),d}function ua(r,e){var t=bt(r,e,28),i=bt(e,r,2),o=bt(e,r,7),f=t^i^o;return f<0&&(f+=4294967296),f}function la(r,e){var t=pt(r,e,28),i=pt(e,r,2),o=pt(e,r,7),f=t^i^o;return f<0&&(f+=4294967296),f}function ba(r,e){var t=bt(r,e,14),i=bt(r,e,18),o=bt(e,r,9),f=t^i^o;return f<0&&(f+=4294967296),f}function pa(r,e){var t=pt(r,e,14),i=pt(r,e,18),o=pt(e,r,9),f=t^i^o;return f<0&&(f+=4294967296),f}function va(r,e){var t=bt(r,e,1),i=bt(r,e,8),o=$i(r,e,7),f=t^i^o;return f<0&&(f+=4294967296),f}function ma(r,e){var t=pt(r,e,1),i=pt(r,e,8),o=Hi(r,e,7),f=t^i^o;return f<0&&(f+=4294967296),f}function ga(r,e){var t=bt(r,e,19),i=bt(e,r,29),o=$i(r,e,6),f=t^i^o;return f<0&&(f+=4294967296),f}function ya(r,e){var t=pt(r,e,19),i=pt(e,r,29),o=Hi(r,e,6),f=t^i^o;return f<0&&(f+=4294967296),f}var Pr=te,Ji=Wi;function At(){if(!(this instanceof At))return new At;Ji.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Pr.inherits(At,Ji);var wa=At;At.blockSize=1024;At.outSize=384;At.hmacStrength=192;At.padLength=128;At.prototype._digest=function(e){return e==="hex"?Pr.toHex32(this.h.slice(0,12),"big"):Pr.split32(this.h.slice(0,12),"big")};b0.sha1=$f;b0.sha224=ta;b0.sha256=Ki;b0.sha384=wa;b0.sha512=Wi;var Vi={},t0=te,Ma=l0,T0=t0.rotl32,si=t0.sum32,g0=t0.sum32_3,xi=t0.sum32_4,Zi=Ma.BlockHash;function gt(){if(!(this instanceof gt))return new gt;Zi.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t0.inherits(gt,Zi);Vi.ripemd160=gt;gt.blockSize=512;gt.outSize=160;gt.hmacStrength=192;gt.padLength=64;gt.prototype._update=function(e,t){for(var i=this.h[0],o=this.h[1],f=this.h[2],d=this.h[3],u=this.h[4],p=i,y=o,v=f,w=d,I=u,k=0;k<80;k++){var F=si(T0(xi(i,di(k,o,f,d),e[_a[k]+t],Sa(k)),Pa[k]),u);i=u,u=d,d=T0(f,10),f=o,o=F,F=si(T0(xi(p,di(79-k,y,v,w),e[Ea[k]+t],Aa(k)),Ca[k]),I),p=I,I=w,w=T0(v,10),v=y,y=F}F=g0(this.h[1],f,w),this.h[1]=g0(this.h[2],d,I),this.h[2]=g0(this.h[3],u,p),this.h[3]=g0(this.h[4],i,y),this.h[4]=g0(this.h[0],o,v),this.h[0]=F};gt.prototype._digest=function(e){return e==="hex"?t0.toHex32(this.h,"little"):t0.split32(this.h,"little")};function di(r,e,t,i){return r<=15?e^t^i:r<=31?e&t|~e&i:r<=47?(e|~t)^i:r<=63?e&i|t&~i:e^(t|~i)}function Sa(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function Aa(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var _a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ea=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Pa=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Ca=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Ia=te,Na=R0;function u0(r,e,t){if(!(this instanceof u0))return new u0(r,e,t);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(Ia.toArray(e,t))}var Ra=u0;u0.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Na(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};u0.prototype.update=function(e,t){return this.inner.update(e,t),this};u0.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(r){var e=r;e.utils=te,e.common=l0,e.sha=b0,e.ripemd=Vi,e.hmac=Ra,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Ri);const je=I0(Ri);function v0(r,e,t){return t={path:e,exports:{},require:function(i,o){return ka(i,o??t.path)}},r(t,t.exports),t.exports}function ka(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Lr=ji;function ji(r,e){if(!r)throw new Error(e||"Assertion failed")}ji.equal=function(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)};var xt=v0(function(r,e){var t=e;function i(d,u){if(Array.isArray(d))return d.slice();if(!d)return[];var p=[];if(typeof d!="string"){for(var y=0;y<d.length;y++)p[y]=d[y]|0;return p}if(u==="hex"){d=d.replace(/[^a-z0-9]+/ig,""),d.length%2!==0&&(d="0"+d);for(var y=0;y<d.length;y+=2)p.push(parseInt(d[y]+d[y+1],16))}else for(var y=0;y<d.length;y++){var v=d.charCodeAt(y),w=v>>8,I=v&255;w?p.push(w,I):p.push(I)}return p}t.toArray=i;function o(d){return d.length===1?"0"+d:d}t.zero2=o;function f(d){for(var u="",p=0;p<d.length;p++)u+=o(d[p].toString(16));return u}t.toHex=f,t.encode=function(u,p){return p==="hex"?f(u):u}}),Ye=v0(function(r,e){var t=e;t.assert=Lr,t.toArray=xt.toArray,t.zero2=xt.zero2,t.toHex=xt.toHex,t.encode=xt.encode;function i(p,y,v){var w=new Array(Math.max(p.bitLength(),v)+1),I;for(I=0;I<w.length;I+=1)w[I]=0;var k=1<<y+1,F=p.clone();for(I=0;I<w.length;I++){var C,M=F.andln(k-1);F.isOdd()?(M>(k>>1)-1?C=(k>>1)-M:C=M,F.isubn(C)):C=0,w[I]=C,F.iushrn(1)}return w}t.getNAF=i;function o(p,y){var v=[[],[]];p=p.clone(),y=y.clone();for(var w=0,I=0,k;p.cmpn(-w)>0||y.cmpn(-I)>0;){var F=p.andln(3)+w&3,C=y.andln(3)+I&3;F===3&&(F=-1),C===3&&(C=-1);var M;F&1?(k=p.andln(7)+w&7,(k===3||k===5)&&C===2?M=-F:M=F):M=0,v[0].push(M);var T;C&1?(k=y.andln(7)+I&7,(k===3||k===5)&&F===2?T=-C:T=C):T=0,v[1].push(T),2*w===M+1&&(w=1-w),2*I===T+1&&(I=1-I),p.iushrn(1),y.iushrn(1)}return v}t.getJSF=o;function f(p,y,v){var w="_"+y;p.prototype[y]=function(){return this[w]!==void 0?this[w]:this[w]=v.call(this)}}t.cachedProperty=f;function d(p){return typeof p=="string"?t.toArray(p,"hex"):p}t.parseBytes=d;function u(p){return new V(p,"hex","le")}t.intFromLE=u}),H0=Ye.getNAF,Ta=Ye.getJSF,q0=Ye.assert;function Bt(r,e){this.type=r,this.p=new V(e.p,16),this.red=e.prime?V.red(e.prime):V.mont(this.p),this.zero=new V(0).toRed(this.red),this.one=new V(1).toRed(this.red),this.two=new V(2).toRed(this.red),this.n=e.n&&new V(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var r0=Bt;Bt.prototype.point=function(){throw new Error("Not implemented")};Bt.prototype.validate=function(){throw new Error("Not implemented")};Bt.prototype._fixedNafMul=function(e,t){q0(e.precomputed);var i=e._getDoubles(),o=H0(t,1,this._bitLength),f=(1<<i.step+1)-(i.step%2===0?2:1);f/=3;var d=[],u,p;for(u=0;u<o.length;u+=i.step){p=0;for(var y=u+i.step-1;y>=u;y--)p=(p<<1)+o[y];d.push(p)}for(var v=this.jpoint(null,null,null),w=this.jpoint(null,null,null),I=f;I>0;I--){for(u=0;u<d.length;u++)p=d[u],p===I?w=w.mixedAdd(i.points[u]):p===-I&&(w=w.mixedAdd(i.points[u].neg()));v=v.add(w)}return v.toP()};Bt.prototype._wnafMul=function(e,t){var i=4,o=e._getNAFPoints(i);i=o.wnd;for(var f=o.points,d=H0(t,i,this._bitLength),u=this.jpoint(null,null,null),p=d.length-1;p>=0;p--){for(var y=0;p>=0&&d[p]===0;p--)y++;if(p>=0&&y++,u=u.dblp(y),p<0)break;var v=d[p];q0(v!==0),e.type==="affine"?v>0?u=u.mixedAdd(f[v-1>>1]):u=u.mixedAdd(f[-v-1>>1].neg()):v>0?u=u.add(f[v-1>>1]):u=u.add(f[-v-1>>1].neg())}return e.type==="affine"?u.toP():u};Bt.prototype._wnafMulAdd=function(e,t,i,o,f){var d=this._wnafT1,u=this._wnafT2,p=this._wnafT3,y=0,v,w,I;for(v=0;v<o;v++){I=t[v];var k=I._getNAFPoints(e);d[v]=k.wnd,u[v]=k.points}for(v=o-1;v>=1;v-=2){var F=v-1,C=v;if(d[F]!==1||d[C]!==1){p[F]=H0(i[F],d[F],this._bitLength),p[C]=H0(i[C],d[C],this._bitLength),y=Math.max(p[F].length,y),y=Math.max(p[C].length,y);continue}var M=[t[F],null,null,t[C]];t[F].y.cmp(t[C].y)===0?(M[1]=t[F].add(t[C]),M[2]=t[F].toJ().mixedAdd(t[C].neg())):t[F].y.cmp(t[C].y.redNeg())===0?(M[1]=t[F].toJ().mixedAdd(t[C]),M[2]=t[F].add(t[C].neg())):(M[1]=t[F].toJ().mixedAdd(t[C]),M[2]=t[F].toJ().mixedAdd(t[C].neg()));var T=[-3,-1,-5,-7,0,7,5,1,3],U=Ta(i[F],i[C]);for(y=Math.max(U[0].length,y),p[F]=new Array(y),p[C]=new Array(y),w=0;w<y;w++){var K=U[0][w]|0,H=U[1][w]|0;p[F][w]=T[(K+1)*3+(H+1)],p[C][w]=0,u[F]=M}}var O=this.jpoint(null,null,null),$=this._wnafT4;for(v=y;v>=0;v--){for(var X=0;v>=0;){var Z=!0;for(w=0;w<o;w++)$[w]=p[w][v]|0,$[w]!==0&&(Z=!1);if(!Z)break;X++,v--}if(v>=0&&X++,O=O.dblp(X),v<0)break;for(w=0;w<o;w++){var re=$[w];re!==0&&(re>0?I=u[w][re-1>>1]:re<0&&(I=u[w][-re-1>>1].neg()),I.type==="affine"?O=O.mixedAdd(I):O=O.add(I))}}for(v=0;v<o;v++)u[v]=null;return f?O:O.toP()};function it(r,e){this.curve=r,this.type=e,this.precomputed=null}Bt.BasePoint=it;it.prototype.eq=function(){throw new Error("Not implemented")};it.prototype.validate=function(){return this.curve.validate(this)};Bt.prototype.decodePoint=function(e,t){e=Ye.toArray(e,t);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*i){e[0]===6?q0(e[e.length-1]%2===0):e[0]===7&&q0(e[e.length-1]%2===1);var o=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return o}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};it.prototype.encodeCompressed=function(e){return this.encode(e,!0)};it.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))};it.prototype.encode=function(e,t){return Ye.encode(this._encode(t),e)};it.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};it.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};it.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],o=this,f=0;f<t;f+=e){for(var d=0;d<e;d++)o=o.dbl();i.push(o)}return{step:e,points:i}};it.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,o=i===1?null:this.dbl(),f=1;f<i;f++)t[f]=t[f-1].add(o);return{wnd:e,points:t}};it.prototype._getBeta=function(){return null};it.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t};var Ur=v0(function(r){typeof Object.create=="function"?r.exports=function(t,i){i&&(t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,i){if(i){t.super_=i;var o=function(){};o.prototype=i.prototype,t.prototype=new o,t.prototype.constructor=t}}}),Fa=Ye.assert;function nt(r){r0.call(this,"short",r),this.a=new V(r.a,16).toRed(this.red),this.b=new V(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Ur(nt,r0);var Ba=nt;nt.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,i;if(e.beta)t=new V(e.beta,16).toRed(this.red);else{var o=this._getEndoRoots(this.p);t=o[0].cmp(o[1])<0?o[0]:o[1],t=t.toRed(this.red)}if(e.lambda)i=new V(e.lambda,16);else{var f=this._getEndoRoots(this.n);this.g.mul(f[0]).x.cmp(this.g.x.redMul(t))===0?i=f[0]:(i=f[1],Fa(this.g.mul(i).x.cmp(this.g.x.redMul(t))===0))}var d;return e.basis?d=e.basis.map(function(u){return{a:new V(u.a,16),b:new V(u.b,16)}}):d=this._getEndoBasis(i),{beta:t,lambda:i,basis:d}}};nt.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:V.mont(e),i=new V(2).toRed(t).redInvm(),o=i.redNeg(),f=new V(3).toRed(t).redNeg().redSqrt().redMul(i),d=o.redAdd(f).fromRed(),u=o.redSub(f).fromRed();return[d,u]};nt.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,o=this.n.clone(),f=new V(1),d=new V(0),u=new V(0),p=new V(1),y,v,w,I,k,F,C,M=0,T,U;i.cmpn(0)!==0;){var K=o.div(i);T=o.sub(K.mul(i)),U=u.sub(K.mul(f));var H=p.sub(K.mul(d));if(!w&&T.cmp(t)<0)y=C.neg(),v=f,w=T.neg(),I=U;else if(w&&++M===2)break;C=T,o=i,i=T,u=f,f=U,p=d,d=H}k=T.neg(),F=U;var O=w.sqr().add(I.sqr()),$=k.sqr().add(F.sqr());return $.cmp(O)>=0&&(k=y,F=v),w.negative&&(w=w.neg(),I=I.neg()),k.negative&&(k=k.neg(),F=F.neg()),[{a:w,b:I},{a:k,b:F}]};nt.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],o=t[1],f=o.b.mul(e).divRound(this.n),d=i.b.neg().mul(e).divRound(this.n),u=f.mul(i.a),p=d.mul(o.a),y=f.mul(i.b),v=d.mul(o.b),w=e.sub(u).sub(p),I=y.add(v).neg();return{k1:w,k2:I}};nt.prototype.pointFromX=function(e,t){e=new V(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),o=i.redSqrt();if(o.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var f=o.fromRed().isOdd();return(t&&!f||!t&&f)&&(o=o.redNeg()),this.point(e,o)};nt.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,o=this.a.redMul(t),f=t.redSqr().redMul(t).redIAdd(o).redIAdd(this.b);return i.redSqr().redISub(f).cmpn(0)===0};nt.prototype._endoWnafMulAdd=function(e,t,i){for(var o=this._endoWnafT1,f=this._endoWnafT2,d=0;d<e.length;d++){var u=this._endoSplit(t[d]),p=e[d],y=p._getBeta();u.k1.negative&&(u.k1.ineg(),p=p.neg(!0)),u.k2.negative&&(u.k2.ineg(),y=y.neg(!0)),o[d*2]=p,o[d*2+1]=y,f[d*2]=u.k1,f[d*2+1]=u.k2}for(var v=this._wnafMulAdd(1,o,f,d*2,i),w=0;w<d*2;w++)o[w]=null,f[w]=null;return v};function Ge(r,e,t,i){r0.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new V(e,16),this.y=new V(t,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Ur(Ge,r0.BasePoint);nt.prototype.point=function(e,t,i){return new Ge(this,e,t,i)};nt.prototype.pointFromJSON=function(e,t){return Ge.fromJSON(this,e,t)};Ge.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,o=function(f){return i.point(f.x.redMul(i.endo.beta),f.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(o)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(o)}}}return t}};Ge.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Ge.fromJSON=function(e,t,i){typeof t=="string"&&(t=JSON.parse(t));var o=e.point(t[0],t[1],i);if(!t[2])return o;function f(u){return e.point(u[0],u[1],i)}var d=t[2];return o.precomputed={beta:null,doubles:d.doubles&&{step:d.doubles.step,points:[o].concat(d.doubles.points.map(f))},naf:d.naf&&{wnd:d.naf.wnd,points:[o].concat(d.naf.points.map(f))}},o};Ge.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Ge.prototype.isInfinity=function(){return this.inf};Ge.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),o=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,o)};Ge.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),o=e.redInvm(),f=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(o),d=f.redSqr().redISub(this.x.redAdd(this.x)),u=f.redMul(this.x.redSub(d)).redISub(this.y);return this.curve.point(d,u)};Ge.prototype.getX=function(){return this.x.fromRed()};Ge.prototype.getY=function(){return this.y.fromRed()};Ge.prototype.mul=function(e){return e=new V(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Ge.prototype.mulAdd=function(e,t,i){var o=[this,t],f=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(o,f):this.curve._wnafMulAdd(1,o,f,2)};Ge.prototype.jmulAdd=function(e,t,i){var o=[this,t],f=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(o,f,!0):this.curve._wnafMulAdd(1,o,f,2,!0)};Ge.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Ge.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,o=function(f){return f.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(o)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(o)}}}return t};Ge.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function $e(r,e,t,i){r0.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new V(0)):(this.x=new V(e,16),this.y=new V(t,16),this.z=new V(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Ur($e,r0.BasePoint);nt.prototype.jpoint=function(e,t,i){return new $e(this,e,t,i)};$e.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),o=this.y.redMul(t).redMul(e);return this.curve.point(i,o)};$e.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};$e.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),o=this.x.redMul(t),f=e.x.redMul(i),d=this.y.redMul(t.redMul(e.z)),u=e.y.redMul(i.redMul(this.z)),p=o.redSub(f),y=d.redSub(u);if(p.cmpn(0)===0)return y.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var v=p.redSqr(),w=v.redMul(p),I=o.redMul(v),k=y.redSqr().redIAdd(w).redISub(I).redISub(I),F=y.redMul(I.redISub(k)).redISub(d.redMul(w)),C=this.z.redMul(e.z).redMul(p);return this.curve.jpoint(k,F,C)};$e.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,o=e.x.redMul(t),f=this.y,d=e.y.redMul(t).redMul(this.z),u=i.redSub(o),p=f.redSub(d);if(u.cmpn(0)===0)return p.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var y=u.redSqr(),v=y.redMul(u),w=i.redMul(y),I=p.redSqr().redIAdd(v).redISub(w).redISub(w),k=p.redMul(w.redISub(I)).redISub(f.redMul(v)),F=this.z.redMul(u);return this.curve.jpoint(I,k,F)};$e.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var i=this;for(t=0;t<e;t++)i=i.dbl();return i}var o=this.curve.a,f=this.curve.tinv,d=this.x,u=this.y,p=this.z,y=p.redSqr().redSqr(),v=u.redAdd(u);for(t=0;t<e;t++){var w=d.redSqr(),I=v.redSqr(),k=I.redSqr(),F=w.redAdd(w).redIAdd(w).redIAdd(o.redMul(y)),C=d.redMul(I),M=F.redSqr().redISub(C.redAdd(C)),T=C.redISub(M),U=F.redMul(T);U=U.redIAdd(U).redISub(k);var K=v.redMul(p);t+1<e&&(y=y.redMul(k)),d=M,p=K,v=U}return this.curve.jpoint(d,v.redMul(f),p)};$e.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};$e.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var o=this.x.redSqr(),f=this.y.redSqr(),d=f.redSqr(),u=this.x.redAdd(f).redSqr().redISub(o).redISub(d);u=u.redIAdd(u);var p=o.redAdd(o).redIAdd(o),y=p.redSqr().redISub(u).redISub(u),v=d.redIAdd(d);v=v.redIAdd(v),v=v.redIAdd(v),e=y,t=p.redMul(u.redISub(y)).redISub(v),i=this.y.redAdd(this.y)}else{var w=this.x.redSqr(),I=this.y.redSqr(),k=I.redSqr(),F=this.x.redAdd(I).redSqr().redISub(w).redISub(k);F=F.redIAdd(F);var C=w.redAdd(w).redIAdd(w),M=C.redSqr(),T=k.redIAdd(k);T=T.redIAdd(T),T=T.redIAdd(T),e=M.redISub(F).redISub(F),t=C.redMul(F.redISub(e)).redISub(T),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,t,i)};$e.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var o=this.x.redSqr(),f=this.y.redSqr(),d=f.redSqr(),u=this.x.redAdd(f).redSqr().redISub(o).redISub(d);u=u.redIAdd(u);var p=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a),y=p.redSqr().redISub(u).redISub(u);e=y;var v=d.redIAdd(d);v=v.redIAdd(v),v=v.redIAdd(v),t=p.redMul(u.redISub(y)).redISub(v),i=this.y.redAdd(this.y)}else{var w=this.z.redSqr(),I=this.y.redSqr(),k=this.x.redMul(I),F=this.x.redSub(w).redMul(this.x.redAdd(w));F=F.redAdd(F).redIAdd(F);var C=k.redIAdd(k);C=C.redIAdd(C);var M=C.redAdd(C);e=F.redSqr().redISub(M),i=this.y.redAdd(this.z).redSqr().redISub(I).redISub(w);var T=I.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T),t=F.redMul(C.redISub(e)).redISub(T)}return this.curve.jpoint(e,t,i)};$e.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,o=this.z,f=o.redSqr().redSqr(),d=t.redSqr(),u=i.redSqr(),p=d.redAdd(d).redIAdd(d).redIAdd(e.redMul(f)),y=t.redAdd(t);y=y.redIAdd(y);var v=y.redMul(u),w=p.redSqr().redISub(v.redAdd(v)),I=v.redISub(w),k=u.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var F=p.redMul(I).redISub(k),C=i.redAdd(i).redMul(o);return this.curve.jpoint(w,F,C)};$e.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),o=t.redSqr(),f=e.redAdd(e).redIAdd(e),d=f.redSqr(),u=this.x.redAdd(t).redSqr().redISub(e).redISub(o);u=u.redIAdd(u),u=u.redAdd(u).redIAdd(u),u=u.redISub(d);var p=u.redSqr(),y=o.redIAdd(o);y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var v=f.redIAdd(u).redSqr().redISub(d).redISub(p).redISub(y),w=t.redMul(v);w=w.redIAdd(w),w=w.redIAdd(w);var I=this.x.redMul(p).redISub(w);I=I.redIAdd(I),I=I.redIAdd(I);var k=this.y.redMul(v.redMul(y.redISub(v)).redISub(u.redMul(p)));k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var F=this.z.redAdd(u).redSqr().redISub(i).redISub(p);return this.curve.jpoint(I,k,F)};$e.prototype.mul=function(e,t){return e=new V(e,t),this.curve._wnafMul(this,e)};$e.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var o=t.redMul(this.z),f=i.redMul(e.z);return this.y.redMul(f).redISub(e.y.redMul(o)).cmpn(0)===0};$e.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(i)===0)return!0;for(var o=e.clone(),f=this.curve.redN.redMul(t);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(f),this.x.cmp(i)===0)return!0}};$e.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};$e.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var D0=v0(function(r,e){var t=e;t.base=r0,t.short=Ba,t.mont=null,t.edwards=null}),L0=v0(function(r,e){var t=e,i=Ye.assert;function o(u){u.type==="short"?this.curve=new D0.short(u):u.type==="edwards"?this.curve=new D0.edwards(u):this.curve=new D0.mont(u),this.g=this.curve.g,this.n=this.curve.n,this.hash=u.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=o;function f(u,p){Object.defineProperty(t,u,{configurable:!0,enumerable:!0,get:function(){var y=new o(p);return Object.defineProperty(t,u,{configurable:!0,enumerable:!0,value:y}),y}})}f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:je.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:je.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:je.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:je.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:je.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:je.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:je.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var d;try{d=null.crash()}catch{d=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:je.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",d]})});function Ft(r){if(!(this instanceof Ft))return new Ft(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=xt.toArray(r.entropy,r.entropyEnc||"hex"),t=xt.toArray(r.nonce,r.nonceEnc||"hex"),i=xt.toArray(r.pers,r.persEnc||"hex");Lr(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,i)}var Xi=Ft;Ft.prototype._init=function(e,t,i){var o=e.concat(t).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var f=0;f<this.V.length;f++)this.K[f]=0,this.V[f]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656};Ft.prototype._hmac=function(){return new je.hmac(this.hash,this.K)};Ft.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Ft.prototype.reseed=function(e,t,i,o){typeof t!="string"&&(o=i,i=t,t=null),e=xt.toArray(e,t),i=xt.toArray(i,o),Lr(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};Ft.prototype.generate=function(e,t,i,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(o=i,i=t,t=null),i&&(i=xt.toArray(i,o||"hex"),this._update(i));for(var f=[];f.length<e;)this.V=this._hmac().update(this.V).digest(),f=f.concat(this.V);var d=f.slice(0,e);return this._update(i),this._reseed++,xt.encode(d,t)};var Cr=Ye.assert;function He(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var zr=He;He.fromPublic=function(e,t,i){return t instanceof He?t:new He(e,{pub:t,pubEnc:i})};He.fromPrivate=function(e,t,i){return t instanceof He?t:new He(e,{priv:t,privEnc:i})};He.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};He.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};He.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};He.prototype._importPrivate=function(e,t){this.priv=new V(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};He.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Cr(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Cr(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};He.prototype.derive=function(e){return e.validate()||Cr(e.validate(),"public point not validated"),e.mul(this.priv).getX()};He.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)};He.prototype.verify=function(e,t,i){return this.ec.verify(e,t,this,void 0,i)};He.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Oa=Ye.assert;function j0(r,e){if(r instanceof j0)return r;this._importDER(r,e)||(Oa(r.r&&r.s,"Signature without r or s"),this.r=new V(r.r,16),this.s=new V(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var X0=j0;function Da(){this.place=0}function gr(r,e){var t=r[e.place++];if(!(t&128))return t;var i=t&15;if(i===0||i>4||r[e.place]===0)return!1;for(var o=0,f=0,d=e.place;f<i;f++,d++)o<<=8,o|=r[d],o>>>=0;return o<=127?!1:(e.place=d,o)}function hi(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}j0.prototype._importDER=function(e,t){e=Ye.toArray(e,t);var i=new Da;if(e[i.place++]!==48)return!1;var o=gr(e,i);if(o===!1||o+i.place!==e.length||e[i.place++]!==2)return!1;var f=gr(e,i);if(f===!1||e[i.place]&128)return!1;var d=e.slice(i.place,f+i.place);if(i.place+=f,e[i.place++]!==2)return!1;var u=gr(e,i);if(u===!1||e.length!==u+i.place||e[i.place]&128)return!1;var p=e.slice(i.place,u+i.place);if(d[0]===0)if(d[1]&128)d=d.slice(1);else return!1;if(p[0]===0)if(p[1]&128)p=p.slice(1);else return!1;return this.r=new V(d),this.s=new V(p),this.recoveryParam=null,!0};function yr(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}j0.prototype.toDER=function(e){var t=this.r.toArray(),i=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),i[0]&128&&(i=[0].concat(i)),t=hi(t),i=hi(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var o=[2];yr(o,t.length),o=o.concat(t),o.push(2),yr(o,i.length);var f=o.concat(i),d=[48];return yr(d,f.length),d=d.concat(f),Ye.encode(d,e)};var La=function(){throw new Error("unsupported")},Yt=Ye.assert;function rt(r){if(!(this instanceof rt))return new rt(r);typeof r=="string"&&(Yt(Object.prototype.hasOwnProperty.call(L0,r),"Unknown curve "+r),r=L0[r]),r instanceof L0.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var Ua=rt;rt.prototype.keyPair=function(e){return new zr(this,e)};rt.prototype.keyFromPrivate=function(e,t){return zr.fromPrivate(this,e,t)};rt.prototype.keyFromPublic=function(e,t){return zr.fromPublic(this,e,t)};rt.prototype.genKeyPair=function(e){e||(e={});for(var t=new Xi({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||La(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),o=this.n.sub(new V(2));;){var f=new V(t.generate(i));if(!(f.cmp(o)>0))return f.iaddn(1),this.keyFromPrivate(f)}};rt.prototype._truncateToN=function(e,t,i){var o;if(V.isBN(e)||typeof e=="number")e=new V(e,16),o=e.byteLength();else if(typeof e=="object")o=e.length,e=new V(e,16);else{var f=e.toString();o=f.length+1>>>1,e=new V(f,16)}typeof i!="number"&&(i=o*8);var d=i-this.n.bitLength();return d>0&&(e=e.ushrn(d)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};rt.prototype.sign=function(e,t,i,o){if(typeof i=="object"&&(o=i,i=null),o||(o={}),typeof e!="string"&&typeof e!="number"&&!V.isBN(e)){Yt(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Yt(e.length>>>0===e.length);for(var f=0;f<e.length;f++)Yt((e[f]&255)===e[f])}t=this.keyFromPrivate(t,i),e=this._truncateToN(e,!1,o.msgBitLength),Yt(!e.isNeg(),"Can not sign a negative message");var d=this.n.byteLength(),u=t.getPrivate().toArray("be",d),p=e.toArray("be",d);Yt(new V(p).eq(e),"Can not sign message");for(var y=new Xi({hash:this.hash,entropy:u,nonce:p,pers:o.pers,persEnc:o.persEnc||"utf8"}),v=this.n.sub(new V(1)),w=0;;w++){var I=o.k?o.k(w):new V(y.generate(this.n.byteLength()));if(I=this._truncateToN(I,!0),!(I.cmpn(1)<=0||I.cmp(v)>=0)){var k=this.g.mul(I);if(!k.isInfinity()){var F=k.getX(),C=F.umod(this.n);if(C.cmpn(0)!==0){var M=I.invm(this.n).mul(C.mul(t.getPrivate()).iadd(e));if(M=M.umod(this.n),M.cmpn(0)!==0){var T=(k.getY().isOdd()?1:0)|(F.cmp(C)!==0?2:0);return o.canonical&&M.cmp(this.nh)>0&&(M=this.n.sub(M),T^=1),new X0({r:C,s:M,recoveryParam:T})}}}}}};rt.prototype.verify=function(e,t,i,o,f){f||(f={}),e=this._truncateToN(e,!1,f.msgBitLength),i=this.keyFromPublic(i,o),t=new X0(t,"hex");var d=t.r,u=t.s;if(d.cmpn(1)<0||d.cmp(this.n)>=0||u.cmpn(1)<0||u.cmp(this.n)>=0)return!1;var p=u.invm(this.n),y=p.mul(e).umod(this.n),v=p.mul(d).umod(this.n),w;return this.curve._maxwellTrick?(w=this.g.jmulAdd(y,i.getPublic(),v),w.isInfinity()?!1:w.eqXToP(d)):(w=this.g.mulAdd(y,i.getPublic(),v),w.isInfinity()?!1:w.getX().umod(this.n).cmp(d)===0)};rt.prototype.recoverPubKey=function(r,e,t,i){Yt((3&t)===t,"The recovery param is more than two bits"),e=new X0(e,i);var o=this.n,f=new V(r),d=e.r,u=e.s,p=t&1,y=t>>1;if(d.cmp(this.curve.p.umod(this.curve.n))>=0&&y)throw new Error("Unable to find sencond key candinate");y?d=this.curve.pointFromX(d.add(this.curve.n),p):d=this.curve.pointFromX(d,p);var v=e.r.invm(o),w=o.sub(f).mul(v).umod(o),I=u.mul(v).umod(o);return this.g.mulAdd(w,d,I)};rt.prototype.getKeyRecoveryParam=function(r,e,t,i){if(e=new X0(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var o=0;o<4;o++){var f;try{f=this.recoverPubKey(r,e,o)}catch{continue}if(f.eq(t))return o}throw new Error("Unable to find valid recovery factor")};var za=v0(function(r,e){var t=e;t.version="6.6.1",t.utils=Ye,t.rand=function(){throw new Error("unsupported")},t.curve=D0,t.curves=L0,t.ec=Ua,t.eddsa=null}),Ka=za.ec;const Ga="signing-key/5.8.0",Ir=new q(Ga);let wr=null;function Xt(){return wr||(wr=new Ka("secp256k1")),wr}class s0{constructor(e){Y(this,"curve","secp256k1"),Y(this,"privateKey",j(e)),Si(this.privateKey)!==32&&Ir.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=Xt().keyFromPrivate(G(this.privateKey));Y(this,"publicKey","0x"+t.getPublic(!1,"hex")),Y(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),Y(this,"_isSigningKey",!0)}_addPoint(e){const t=Xt().keyFromPublic(G(this.publicKey)),i=Xt().keyFromPublic(G(e));return"0x"+t.pub.add(i.pub).encodeCompressed("hex")}signDigest(e){const t=Xt().keyFromPrivate(G(this.privateKey)),i=G(e);i.length!==32&&Ir.throwArgumentError("bad digest length","digest",e);const o=t.sign(i,{canonical:!0});return N0({recoveryParam:o.recoveryParam,r:tt("0x"+o.r.toString(16),32),s:tt("0x"+o.s.toString(16),32)})}computeSharedSecret(e){const t=Xt().keyFromPrivate(G(this.privateKey)),i=Xt().keyFromPublic(G(Yi(e)));return tt("0x"+t.derive(i.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function Yi(r,e){const t=G(r);return t.length===32?new s0(t).publicKey:t.length===33?"0x"+Xt().keyFromPublic(t).getPublic(!1,"hex"):t.length===65?j(t):Ir.throwArgumentError("invalid public or private key","key","[REDACTED]")}const $a="transactions/5.8.0",st=new q($a);var ui;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(ui||(ui={}));const Ha=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],qa={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function x0(r){const e=Yi(r);return dt(A0(qe(A0(e,1)),12))}function Xe(r,e){const t=kt(fe.from(r).toHexString());return t.length>32&&st.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function Mr(r,e){return{address:dt(r),storageKeys:(e||[]).map((t,i)=>(Si(t)!==32&&st.throwArgumentError("invalid access list storageKey",`accessList[${r}:${i}]`,t),t.toLowerCase()))}}function Wa(r){if(Array.isArray(r))return r.map((t,i)=>Array.isArray(t)?(t.length>2&&st.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${i}]`,t),Mr(t[0],t[1])):Mr(t.address,t.storageKeys));const e=Object.keys(r).map(t=>{const i=r[t].reduce((o,f)=>(o[f]=!0,o),{});return Mr(t,Object.keys(i).sort())});return e.sort((t,i)=>t.address.localeCompare(i.address)),e}function Qi(r){return Wa(r).map(e=>[e.address,e.storageKeys])}function Ja(r,e){if(r.gasPrice!=null){const i=fe.from(r.gasPrice),o=fe.from(r.maxFeePerGas||0);i.eq(o)||st.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:i,maxFeePerGas:o})}const t=[Xe(r.chainId||0,"chainId"),Xe(r.nonce||0,"nonce"),Xe(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Xe(r.maxFeePerGas||0,"maxFeePerGas"),Xe(r.gasLimit||0,"gasLimit"),r.to!=null?dt(r.to):"0x",Xe(r.value||0,"value"),r.data||"0x",Qi(r.accessList||[])];if(e){const i=N0(e);t.push(Xe(i.recoveryParam,"recoveryParam")),t.push(kt(i.r)),t.push(kt(i.s))}return c0(["0x02",$0(t)])}function Va(r,e){const t=[Xe(r.chainId||0,"chainId"),Xe(r.nonce||0,"nonce"),Xe(r.gasPrice||0,"gasPrice"),Xe(r.gasLimit||0,"gasLimit"),r.to!=null?dt(r.to):"0x",Xe(r.value||0,"value"),r.data||"0x",Qi(r.accessList||[])];if(e){const i=N0(e);t.push(Xe(i.recoveryParam,"recoveryParam")),t.push(kt(i.r)),t.push(kt(i.s))}return c0(["0x01",$0(t)])}function Za(r,e){In(r,qa);const t=[];Ha.forEach(function(d){let u=r[d.name]||[];const p={};d.numeric&&(p.hexPad="left"),u=G(j(u,p)),d.length&&u.length!==d.length&&u.length>0&&st.throwArgumentError("invalid length for "+d.name,"transaction:"+d.name,u),d.maxLength&&(u=kt(u),u.length>d.maxLength&&st.throwArgumentError("invalid length for "+d.name,"transaction:"+d.name,u)),t.push(j(u))});let i=0;if(r.chainId!=null?(i=r.chainId,typeof i!="number"&&st.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!Tr(e)&&e.v>28&&(i=Math.floor((e.v-35)/2)),i!==0&&(t.push(j(i)),t.push("0x"),t.push("0x")),!e)return $0(t);const o=N0(e);let f=27+o.recoveryParam;return i!==0?(t.pop(),t.pop(),t.pop(),f+=i*2+8,o.v>28&&o.v!==f&&st.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):o.v!==f&&st.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push(j(f)),t.push(kt(G(o.r))),t.push(kt(G(o.s))),$0(t)}function li(r,e){if(r.type==null||r.type===0)return r.accessList!=null&&st.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),Za(r,e);switch(r.type){case 1:return Va(r,e);case 2:return Ja(r,e)}return st.throwError(`unsupported transaction type: ${r.type}`,q.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}class en{constructor(e){Y(this,"alphabet",e),Y(this,"base",e.length),Y(this,"_alphabetMap",{}),Y(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=G(e);if(t.length===0)return"";let i=[0];for(let f=0;f<t.length;++f){let d=t[f];for(let u=0;u<i.length;++u)d+=i[u]<<8,i[u]=d%this.base,d=d/this.base|0;for(;d>0;)i.push(d%this.base),d=d/this.base|0}let o="";for(let f=0;t[f]===0&&f<t.length-1;++f)o+=this._leader;for(let f=i.length-1;f>=0;--f)o+=this.alphabet[i[f]];return o}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let i=0;i<e.length;i++){let o=this._alphabetMap[e[i]];if(o===void 0)throw new Error("Non-base"+this.base+" character");let f=o;for(let d=0;d<t.length;++d)f+=t[d]*this.base,t[d]=f&255,f>>=8;for(;f>0;)t.push(f&255),f>>=8}for(let i=0;e[i]===this._leader&&i<e.length-1;++i)t.push(0);return G(new Uint8Array(t.reverse()))}}new en("abcdefghijklmnopqrstuvwxyz234567");const tn=new en("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var E0;(function(r){r.sha256="sha256",r.sha512="sha512"})(E0||(E0={}));const ja="sha2/5.8.0",Xa=new q(ja);function Ya(r){return"0x"+je.ripemd160().update(G(r)).digest("hex")}function P0(r){return"0x"+je.sha256().update(G(r)).digest("hex")}function W0(r,e,t){return E0[r]||Xa.throwError("unsupported algorithm "+r,q.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:r}),"0x"+je.hmac(je[r],G(e)).update(G(t)).digest("hex")}function Kr(r,e,t,i,o){r=G(r),e=G(e);let f,d=1;const u=new Uint8Array(i),p=new Uint8Array(e.length+4);p.set(e);let y,v;for(let w=1;w<=d;w++){p[e.length]=w>>24&255,p[e.length+1]=w>>16&255,p[e.length+2]=w>>8&255,p[e.length+3]=w&255;let I=G(W0(o,r,p));f||(f=I.length,v=new Uint8Array(f),d=Math.ceil(i/f),y=i-(d-1)*f),v.set(I);for(let C=1;C<t;C++){I=G(W0(o,r,I));for(let M=0;M<f;M++)v[M]^=I[M]}const k=(w-1)*f,F=w===d?y:f;u.set(G(v).slice(0,F),k)}return j(u)}const Qa="wordlists/5.8.0",eo=new q(Qa);class k0{constructor(e){eo.checkAbstract(new.target,k0),Y(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let i=0;i<2048;i++){const o=e.getWord(i);if(i!==e.getWordIndex(o))return"0x";t.push(o)}return Br(t.join(`
`)+`
`)}static register(e,t){t||(t=e.locale)}}const to="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let S0=null;function bi(r){if(S0==null&&(S0=to.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),k0.check(r)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw S0=null,new Error("BIP39 Wordlist for en (English) FAILED")}class ro extends k0{constructor(){super("en")}getWord(e){return bi(this),S0[e]}getWordIndex(e){return bi(this),S0.indexOf(e)}}const rn=new ro;k0.register(rn);const pi={en:rn},io="hdnode/5.8.0",J0=new q(io),no=fe.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),fo=Mt("Bitcoin seed"),F0=2147483648;function nn(r){return(1<<r)-1<<8-r}function ao(r){return(1<<r)-1}function B0(r){return tt(j(r),32)}function vi(r){return tn.encode(Tt([r,A0(P0(P0(r)),0,4)]))}function Gr(r){if(r==null)return pi.en;if(typeof r=="string"){const e=pi[r];return e==null&&J0.throwArgumentError("unknown locale","wordlist",r),e}return r}const i0={},C0="m/44'/60'/0'/0/0";class et{constructor(e,t,i,o,f,d,u,p){if(e!==i0)throw new Error("HDNode constructor cannot be called directly");if(t){const y=new s0(t);Y(this,"privateKey",y.privateKey),Y(this,"publicKey",y.compressedPublicKey)}else Y(this,"privateKey",null),Y(this,"publicKey",j(i));Y(this,"parentFingerprint",o),Y(this,"fingerprint",A0(Ya(P0(this.publicKey)),0,4)),Y(this,"address",x0(this.publicKey)),Y(this,"chainCode",f),Y(this,"index",d),Y(this,"depth",u),p==null?(Y(this,"mnemonic",null),Y(this,"path",null)):typeof p=="string"?(Y(this,"mnemonic",null),Y(this,"path",p)):(Y(this,"mnemonic",p),Y(this,"path",p.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return vi(Tt([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",j(this.depth),this.parentFingerprint,tt(j(this.index),4),this.chainCode,this.privateKey!=null?Tt(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new et(i0,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&2147483647));const i=new Uint8Array(37);if(e&F0){if(!this.privateKey)throw new Error("cannot derive child of neutered node");i.set(G(this.privateKey),1),t&&(t+="'")}else i.set(G(this.publicKey));for(let w=24;w>=0;w-=8)i[33+(w>>3)]=e>>24-w&255;const o=G(W0(E0.sha512,this.chainCode,i)),f=o.slice(0,32),d=o.slice(32);let u=null,p=null;this.privateKey?u=B0(fe.from(f).add(this.privateKey).mod(no)):p=new s0(j(f))._addPoint(this.publicKey);let y=t;const v=this.mnemonic;return v&&(y=Object.freeze({phrase:v.phrase,path:t,locale:v.locale||"en"})),new et(i0,u,p,this.fingerprint,B0(d),e,this.depth+1,y)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let i=this;for(let o=0;o<t.length;o++){const f=t[o];if(f.match(/^[0-9]+'$/)){const d=parseInt(f.substring(0,f.length-1));if(d>=F0)throw new Error("invalid path index - "+f);i=i._derive(F0+d)}else if(f.match(/^[0-9]+$/)){const d=parseInt(f);if(d>=F0)throw new Error("invalid path index - "+f);i=i._derive(d)}else throw new Error("invalid path component - "+f)}return i}static _fromSeed(e,t){const i=G(e);if(i.length<16||i.length>64)throw new Error("invalid seed");const o=G(W0(E0.sha512,fo,i));return new et(i0,B0(o.slice(0,32)),null,"0x00000000",B0(o.slice(32)),0,0,t)}static fromMnemonic(e,t,i){return i=Gr(i),e=Hr($r(e,i),i),et._fromSeed(oo(e,t),{phrase:e,path:"m",locale:i.locale})}static fromSeed(e){return et._fromSeed(e,null)}static fromExtendedKey(e){const t=tn.decode(e);(t.length!==82||vi(t.slice(0,78))!==e)&&J0.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const i=t[4],o=j(t.slice(5,9)),f=parseInt(j(t.slice(9,13)).substring(2),16),d=j(t.slice(13,45)),u=t.slice(45,78);switch(j(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new et(i0,null,j(u),o,d,f,i,null);case"0x0488ade4":case"0x04358394 ":if(u[0]!==0)break;return new et(i0,j(u.slice(1)),null,o,d,f,i,null)}return J0.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function oo(r,e){e||(e="");const t=Mt("mnemonic"+e,e0.NFKD);return Kr(Mt(r,e0.NFKD),t,2048,64,"sha512")}function $r(r,e){e=Gr(e),J0.checkNormalize();const t=e.split(r);if(t.length%3!==0)throw new Error("invalid mnemonic");const i=G(new Uint8Array(Math.ceil(11*t.length/8)));let o=0;for(let y=0;y<t.length;y++){let v=e.getWordIndex(t[y].normalize("NFKD"));if(v===-1)throw new Error("invalid mnemonic");for(let w=0;w<11;w++)v&1<<10-w&&(i[o>>3]|=1<<7-o%8),o++}const f=32*t.length/3,d=t.length/3,u=nn(d);if((G(P0(i.slice(0,f/8)))[0]&u)!==(i[i.length-1]&u))throw new Error("invalid checksum");return j(i.slice(0,f/8))}function Hr(r,e){if(e=Gr(e),r=G(r),r.length%4!==0||r.length<16||r.length>32)throw new Error("invalid entropy");const t=[0];let i=11;for(let d=0;d<r.length;d++)i>8?(t[t.length-1]<<=8,t[t.length-1]|=r[d],i-=8):(t[t.length-1]<<=i,t[t.length-1]|=r[d]>>8-i,t.push(r[d]&ao(8-i)),i+=3);const o=r.length/4,f=G(P0(r))[0]&nn(o);return t[t.length-1]<<=o,t[t.length-1]|=f>>8-o,e.join(t.map(d=>e.getWord(d)))}function Io(r,e){try{return $r(r,e),!0}catch{}return!1}const co="random/5.8.0";var mi={};const Nr=new q(co);function so(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof mi<"u")return mi;throw new Error("unable to locate global object")}const gi=so();let U0=gi.crypto||gi.msCrypto;(!U0||!U0.getRandomValues)&&(Nr.warn("WARNING: Missing strong random number source"),U0={getRandomValues:function(r){return Nr.throwError("no secure random source avaialble",q.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function M0(r){(r<=0||r>1024||r%1||r!=r)&&Nr.throwArgumentError("invalid length","length",r);const e=new Uint8Array(r);return U0.getRandomValues(e),G(e)}var fn={exports:{}};(function(r,e){(function(t){function i(x){return parseInt(x)===x}function o(x){if(!i(x.length))return!1;for(var a=0;a<x.length;a++)if(!i(x[a])||x[a]<0||x[a]>255)return!1;return!0}function f(x,a){if(x.buffer&&ArrayBuffer.isView(x)&&x.name==="Uint8Array")return a&&(x.slice?x=x.slice():x=Array.prototype.slice.call(x)),x;if(Array.isArray(x)){if(!o(x))throw new Error("Array contains invalid value: "+x);return new Uint8Array(x)}if(i(x.length)&&o(x))return new Uint8Array(x);throw new Error("unsupported array-like object")}function d(x){return new Uint8Array(x)}function u(x,a,h,A,_){(A!=null||_!=null)&&(x.slice?x=x.slice(A,_):x=Array.prototype.slice.call(x,A,_)),a.set(x,h)}var p=function(){function x(h){var A=[],_=0;for(h=encodeURI(h);_<h.length;){var c=h.charCodeAt(_++);c===37?(A.push(parseInt(h.substr(_,2),16)),_+=2):A.push(c)}return f(A)}function a(h){for(var A=[],_=0;_<h.length;){var c=h[_];c<128?(A.push(String.fromCharCode(c)),_++):c>191&&c<224?(A.push(String.fromCharCode((c&31)<<6|h[_+1]&63)),_+=2):(A.push(String.fromCharCode((c&15)<<12|(h[_+1]&63)<<6|h[_+2]&63)),_+=3)}return A.join("")}return{toBytes:x,fromBytes:a}}(),y=function(){function x(A){for(var _=[],c=0;c<A.length;c+=2)_.push(parseInt(A.substr(c,2),16));return _}var a="0123456789abcdef";function h(A){for(var _=[],c=0;c<A.length;c++){var R=A[c];_.push(a[(R&240)>>4]+a[R&15])}return _.join("")}return{toBytes:x,fromBytes:h}}(),v={16:10,24:12,32:14},w=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],I=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],k=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],F=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],C=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],M=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],T=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],U=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],K=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],H=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],O=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],$=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],X=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Z=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],re=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function ie(x){for(var a=[],h=0;h<x.length;h+=4)a.push(x[h]<<24|x[h+1]<<16|x[h+2]<<8|x[h+3]);return a}var J=function(x){if(!(this instanceof J))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:f(x,!0)}),this._prepare()};J.prototype._prepare=function(){var x=v[this.key.length];if(x==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var a=0;a<=x;a++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var h=(x+1)*4,A=this.key.length/4,_=ie(this.key),c,a=0;a<A;a++)c=a>>2,this._Ke[c][a%4]=_[a],this._Kd[x-c][a%4]=_[a];for(var R=0,P=A,N;P<h;){if(N=_[A-1],_[0]^=I[N>>16&255]<<24^I[N>>8&255]<<16^I[N&255]<<8^I[N>>24&255]^w[R]<<24,R+=1,A!=8)for(var a=1;a<A;a++)_[a]^=_[a-1];else{for(var a=1;a<A/2;a++)_[a]^=_[a-1];N=_[A/2-1],_[A/2]^=I[N&255]^I[N>>8&255]<<8^I[N>>16&255]<<16^I[N>>24&255]<<24;for(var a=A/2+1;a<A;a++)_[a]^=_[a-1]}for(var a=0,D,B;a<A&&P<h;)D=P>>2,B=P%4,this._Ke[D][B]=_[a],this._Kd[x-D][B]=_[a++],P++}for(var D=1;D<x;D++)for(var B=0;B<4;B++)N=this._Kd[D][B],this._Kd[D][B]=$[N>>24&255]^X[N>>16&255]^Z[N>>8&255]^re[N&255]},J.prototype.encrypt=function(x){if(x.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var a=this._Ke.length-1,h=[0,0,0,0],A=ie(x),_=0;_<4;_++)A[_]^=this._Ke[0][_];for(var c=1;c<a;c++){for(var _=0;_<4;_++)h[_]=F[A[_]>>24&255]^C[A[(_+1)%4]>>16&255]^M[A[(_+2)%4]>>8&255]^T[A[(_+3)%4]&255]^this._Ke[c][_];A=h.slice()}for(var R=d(16),P,_=0;_<4;_++)P=this._Ke[a][_],R[4*_]=(I[A[_]>>24&255]^P>>24)&255,R[4*_+1]=(I[A[(_+1)%4]>>16&255]^P>>16)&255,R[4*_+2]=(I[A[(_+2)%4]>>8&255]^P>>8)&255,R[4*_+3]=(I[A[(_+3)%4]&255]^P)&255;return R},J.prototype.decrypt=function(x){if(x.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var a=this._Kd.length-1,h=[0,0,0,0],A=ie(x),_=0;_<4;_++)A[_]^=this._Kd[0][_];for(var c=1;c<a;c++){for(var _=0;_<4;_++)h[_]=U[A[_]>>24&255]^K[A[(_+3)%4]>>16&255]^H[A[(_+2)%4]>>8&255]^O[A[(_+1)%4]&255]^this._Kd[c][_];A=h.slice()}for(var R=d(16),P,_=0;_<4;_++)P=this._Kd[a][_],R[4*_]=(k[A[_]>>24&255]^P>>24)&255,R[4*_+1]=(k[A[(_+3)%4]>>16&255]^P>>16)&255,R[4*_+2]=(k[A[(_+2)%4]>>8&255]^P>>8)&255,R[4*_+3]=(k[A[(_+1)%4]&255]^P)&255;return R};var ne=function(x){if(!(this instanceof ne))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new J(x)};ne.prototype.encrypt=function(x){if(x=f(x),x.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var a=d(x.length),h=d(16),A=0;A<x.length;A+=16)u(x,h,0,A,A+16),h=this._aes.encrypt(h),u(h,a,A);return a},ne.prototype.decrypt=function(x){if(x=f(x),x.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var a=d(x.length),h=d(16),A=0;A<x.length;A+=16)u(x,h,0,A,A+16),h=this._aes.decrypt(h),u(h,a,A);return a};var g=function(x,a){if(!(this instanceof g))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!a)a=d(16);else if(a.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=f(a,!0),this._aes=new J(x)};g.prototype.encrypt=function(x){if(x=f(x),x.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var a=d(x.length),h=d(16),A=0;A<x.length;A+=16){u(x,h,0,A,A+16);for(var _=0;_<16;_++)h[_]^=this._lastCipherblock[_];this._lastCipherblock=this._aes.encrypt(h),u(this._lastCipherblock,a,A)}return a},g.prototype.decrypt=function(x){if(x=f(x),x.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var a=d(x.length),h=d(16),A=0;A<x.length;A+=16){u(x,h,0,A,A+16),h=this._aes.decrypt(h);for(var _=0;_<16;_++)a[A+_]=h[_]^this._lastCipherblock[_];u(x,this._lastCipherblock,0,A,A+16)}return a};var n=function(x,a,h){if(!(this instanceof n))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!a)a=d(16);else if(a.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");h||(h=1),this.segmentSize=h,this._shiftRegister=f(a,!0),this._aes=new J(x)};n.prototype.encrypt=function(x){if(x.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var a=f(x,!0),h,A=0;A<a.length;A+=this.segmentSize){h=this._aes.encrypt(this._shiftRegister);for(var _=0;_<this.segmentSize;_++)a[A+_]^=h[_];u(this._shiftRegister,this._shiftRegister,0,this.segmentSize),u(a,this._shiftRegister,16-this.segmentSize,A,A+this.segmentSize)}return a},n.prototype.decrypt=function(x){if(x.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var a=f(x,!0),h,A=0;A<a.length;A+=this.segmentSize){h=this._aes.encrypt(this._shiftRegister);for(var _=0;_<this.segmentSize;_++)a[A+_]^=h[_];u(this._shiftRegister,this._shiftRegister,0,this.segmentSize),u(x,this._shiftRegister,16-this.segmentSize,A,A+this.segmentSize)}return a};var s=function(x,a){if(!(this instanceof s))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!a)a=d(16);else if(a.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=f(a,!0),this._lastPrecipherIndex=16,this._aes=new J(x)};s.prototype.encrypt=function(x){for(var a=f(x,!0),h=0;h<a.length;h++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),a[h]^=this._lastPrecipher[this._lastPrecipherIndex++];return a},s.prototype.decrypt=s.prototype.encrypt;var l=function(x){if(!(this instanceof l))throw Error("Counter must be instanitated with `new`");x!==0&&!x&&(x=1),typeof x=="number"?(this._counter=d(16),this.setValue(x)):this.setBytes(x)};l.prototype.setValue=function(x){if(typeof x!="number"||parseInt(x)!=x)throw new Error("invalid counter value (must be an integer)");for(var a=15;a>=0;--a)this._counter[a]=x%256,x=x>>8},l.prototype.setBytes=function(x){if(x=f(x,!0),x.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=x},l.prototype.increment=function(){for(var x=15;x>=0;x--)if(this._counter[x]===255)this._counter[x]=0;else{this._counter[x]++;break}};var b=function(x,a){if(!(this instanceof b))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",a instanceof l||(a=new l(a)),this._counter=a,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new J(x)};b.prototype.encrypt=function(x){for(var a=f(x,!0),h=0;h<a.length;h++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),a[h]^=this._remainingCounter[this._remainingCounterIndex++];return a},b.prototype.decrypt=b.prototype.encrypt;function m(x){x=f(x,!0);var a=16-x.length%16,h=d(x.length+a);u(x,h);for(var A=x.length;A<h.length;A++)h[A]=a;return h}function S(x){if(x=f(x,!0),x.length<16)throw new Error("PKCS#7 invalid length");var a=x[x.length-1];if(a>16)throw new Error("PKCS#7 padding byte out of range");for(var h=x.length-a,A=0;A<a;A++)if(x[h+A]!==a)throw new Error("PKCS#7 invalid padding byte");var _=d(h);return u(x,_,0,0,h),_}var E={AES:J,Counter:l,ModeOfOperation:{ecb:ne,cbc:g,cfb:n,ofb:s,ctr:b},utils:{hex:y,utf8:p},padding:{pkcs7:{pad:m,strip:S}},_arrayTest:{coerceArray:f,createArray:d,copyArray:u}};r.exports=E})()})(fn);var xo=fn.exports;const ut=I0(xo),an="json-wallets/5.8.0";function Qt(r){return typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),G(r)}function y0(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function qr(r){return typeof r=="string"?Mt(r,e0.NFKC):G(r)}function Ke(r,e){let t=r;const i=e.toLowerCase().split("/");for(let o=0;o<i.length;o++){let f=null;for(const d in t)if(d.toLowerCase()===i[o]){f=t[d];break}if(f===null)return null;t=f}return t}function ho(r){const e=G(r);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=j(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const uo=new q(an);class lo extends _i{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function on(r,e){const t=JSON.parse(r);e=qr(e);const i=dt(Ke(t,"ethaddr")),o=Qt(Ke(t,"encseed"));(!o||o.length%16!==0)&&uo.throwArgumentError("invalid encseed","json",r);const f=G(Kr(e,e,2e3,32,"sha256")).slice(0,16),d=o.slice(0,16),u=o.slice(16),p=new ut.ModeOfOperation.cbc(f,d),y=ut.padding.pkcs7.strip(G(p.decrypt(u)));let v="";for(let k=0;k<y.length;k++)v+=String.fromCharCode(y[k]);const w=Mt(v),I=qe(w);return new lo({_isCrowdsaleAccount:!0,address:i,privateKey:I})}function cn(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return e.encseed&&e.ethaddr}function sn(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}var xn={exports:{}};(function(r,e){(function(t){function o(C){const M=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let T=1779033703,U=3144134277,K=1013904242,H=2773480762,O=1359893119,$=2600822924,X=528734635,Z=1541459225;const re=new Uint32Array(64);function ie(b){let m=0,S=b.length;for(;S>=64;){let E=T,x=U,a=K,h=H,A=O,_=$,c=X,R=Z,P,N,D,B,L;for(N=0;N<16;N++)D=m+N*4,re[N]=(b[D]&255)<<24|(b[D+1]&255)<<16|(b[D+2]&255)<<8|b[D+3]&255;for(N=16;N<64;N++)P=re[N-2],B=(P>>>17|P<<15)^(P>>>19|P<<13)^P>>>10,P=re[N-15],L=(P>>>7|P<<25)^(P>>>18|P<<14)^P>>>3,re[N]=(B+re[N-7]|0)+(L+re[N-16]|0)|0;for(N=0;N<64;N++)B=(((A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7))+(A&_^~A&c)|0)+(R+(M[N]+re[N]|0)|0)|0,L=((E>>>2|E<<30)^(E>>>13|E<<19)^(E>>>22|E<<10))+(E&x^E&a^x&a)|0,R=c,c=_,_=A,A=h+B|0,h=a,a=x,x=E,E=B+L|0;T=T+E|0,U=U+x|0,K=K+a|0,H=H+h|0,O=O+A|0,$=$+_|0,X=X+c|0,Z=Z+R|0,m+=64,S-=64}}ie(C);let J,ne=C.length%64,g=C.length/536870912|0,n=C.length<<3,s=ne<56?56:120,l=C.slice(C.length-ne,C.length);for(l.push(128),J=ne+1;J<s;J++)l.push(0);return l.push(g>>>24&255),l.push(g>>>16&255),l.push(g>>>8&255),l.push(g>>>0&255),l.push(n>>>24&255),l.push(n>>>16&255),l.push(n>>>8&255),l.push(n>>>0&255),ie(l),[T>>>24&255,T>>>16&255,T>>>8&255,T>>>0&255,U>>>24&255,U>>>16&255,U>>>8&255,U>>>0&255,K>>>24&255,K>>>16&255,K>>>8&255,K>>>0&255,H>>>24&255,H>>>16&255,H>>>8&255,H>>>0&255,O>>>24&255,O>>>16&255,O>>>8&255,O>>>0&255,$>>>24&255,$>>>16&255,$>>>8&255,$>>>0&255,X>>>24&255,X>>>16&255,X>>>8&255,X>>>0&255,Z>>>24&255,Z>>>16&255,Z>>>8&255,Z>>>0&255]}function f(C,M,T){C=C.length<=64?C:o(C);const U=64+M.length+4,K=new Array(U),H=new Array(64);let O,$=[];for(O=0;O<64;O++)K[O]=54;for(O=0;O<C.length;O++)K[O]^=C[O];for(O=0;O<M.length;O++)K[64+O]=M[O];for(O=U-4;O<U;O++)K[O]=0;for(O=0;O<64;O++)H[O]=92;for(O=0;O<C.length;O++)H[O]^=C[O];function X(){for(let Z=U-1;Z>=U-4;Z--){if(K[Z]++,K[Z]<=255)return;K[Z]=0}}for(;T>=32;)X(),$=$.concat(o(H.concat(o(K)))),T-=32;return T>0&&(X(),$=$.concat(o(H.concat(o(K))).slice(0,T))),$}function d(C,M,T,U,K){let H;for(v(C,(2*T-1)*16,K,0,16),H=0;H<2*T;H++)y(C,H*16,K,16),p(K,U),v(K,0,C,M+H*16,16);for(H=0;H<T;H++)v(C,M+H*2*16,C,H*16,16);for(H=0;H<T;H++)v(C,M+(H*2+1)*16,C,(H+T)*16,16)}function u(C,M){return C<<M|C>>>32-M}function p(C,M){v(C,0,M,0,16);for(let T=8;T>0;T-=2)M[4]^=u(M[0]+M[12],7),M[8]^=u(M[4]+M[0],9),M[12]^=u(M[8]+M[4],13),M[0]^=u(M[12]+M[8],18),M[9]^=u(M[5]+M[1],7),M[13]^=u(M[9]+M[5],9),M[1]^=u(M[13]+M[9],13),M[5]^=u(M[1]+M[13],18),M[14]^=u(M[10]+M[6],7),M[2]^=u(M[14]+M[10],9),M[6]^=u(M[2]+M[14],13),M[10]^=u(M[6]+M[2],18),M[3]^=u(M[15]+M[11],7),M[7]^=u(M[3]+M[15],9),M[11]^=u(M[7]+M[3],13),M[15]^=u(M[11]+M[7],18),M[1]^=u(M[0]+M[3],7),M[2]^=u(M[1]+M[0],9),M[3]^=u(M[2]+M[1],13),M[0]^=u(M[3]+M[2],18),M[6]^=u(M[5]+M[4],7),M[7]^=u(M[6]+M[5],9),M[4]^=u(M[7]+M[6],13),M[5]^=u(M[4]+M[7],18),M[11]^=u(M[10]+M[9],7),M[8]^=u(M[11]+M[10],9),M[9]^=u(M[8]+M[11],13),M[10]^=u(M[9]+M[8],18),M[12]^=u(M[15]+M[14],7),M[13]^=u(M[12]+M[15],9),M[14]^=u(M[13]+M[12],13),M[15]^=u(M[14]+M[13],18);for(let T=0;T<16;++T)C[T]+=M[T]}function y(C,M,T,U){for(let K=0;K<U;K++)T[K]^=C[M+K]}function v(C,M,T,U,K){for(;K--;)T[U++]=C[M++]}function w(C){if(!C||typeof C.length!="number")return!1;for(let M=0;M<C.length;M++){const T=C[M];if(typeof T!="number"||T%1||T<0||T>=256)return!1}return!0}function I(C,M){if(typeof C!="number"||C%1)throw new Error("invalid "+M);return C}function k(C,M,T,U,K,H,O){if(T=I(T,"N"),U=I(U,"r"),K=I(K,"p"),H=I(H,"dkLen"),T===0||T&T-1)throw new Error("N must be power of 2");if(T>2147483647/128/U)throw new Error("N too large");if(U>2147483647/128/K)throw new Error("r too large");if(!w(C))throw new Error("password must be an array or buffer");if(C=Array.prototype.slice.call(C),!w(M))throw new Error("salt must be an array or buffer");M=Array.prototype.slice.call(M);let $=f(C,M,K*128*U);const X=new Uint32Array(K*32*U);for(let A=0;A<X.length;A++){const _=A*4;X[A]=($[_+3]&255)<<24|($[_+2]&255)<<16|($[_+1]&255)<<8|($[_+0]&255)<<0}const Z=new Uint32Array(64*U),re=new Uint32Array(32*U*T),ie=32*U,J=new Uint32Array(16),ne=new Uint32Array(16),g=K*T*2;let n=0,s=null,l=!1,b=0,m=0,S,E;const x=O?parseInt(1e3/U):4294967295,a=typeof setImmediate<"u"?setImmediate:setTimeout,h=function(){if(l)return O(new Error("cancelled"),n/g);let A;switch(b){case 0:E=m*32*U,v(X,E,Z,0,ie),b=1,S=0;case 1:A=T-S,A>x&&(A=x);for(let c=0;c<A;c++)v(Z,0,re,(S+c)*ie,ie),d(Z,ie,U,J,ne);if(S+=A,n+=A,O){const c=parseInt(1e3*n/g);if(c!==s){if(l=O(null,n/g),l)break;s=c}}if(S<T)break;S=0,b=2;case 2:A=T-S,A>x&&(A=x);for(let c=0;c<A;c++){const R=(2*U-1)*16,P=Z[R]&T-1;y(re,P*ie,Z,ie),d(Z,ie,U,J,ne)}if(S+=A,n+=A,O){const c=parseInt(1e3*n/g);if(c!==s){if(l=O(null,n/g),l)break;s=c}}if(S<T)break;if(v(Z,0,X,E,ie),m++,m<K){b=0;break}$=[];for(let c=0;c<X.length;c++)$.push(X[c]>>0&255),$.push(X[c]>>8&255),$.push(X[c]>>16&255),$.push(X[c]>>24&255);const _=f(C,$,H);return O&&O(null,1,_),_}O&&a(h)};if(!O)for(;;){const A=h();if(A!=null)return A}h()}const F={scrypt:function(C,M,T,U,K,H,O){return new Promise(function($,X){let Z=0;O&&O(0),k(C,M,T,U,K,H,function(re,ie,J){if(re)X(re);else if(J)O&&Z!==1&&O(1),$(new Uint8Array(J));else if(O&&ie!==Z)return Z=ie,O(ie)})})},syncScrypt:function(C,M,T,U,K,H){return new Uint8Array(k(C,M,T,U,K,H))}};r.exports=F})()})(xn);var bo=xn.exports;const Wr=I0(bo);var po=function(r,e,t,i){function o(f){return f instanceof t?f:new t(function(d){d(f)})}return new(t||(t=Promise))(function(f,d){function u(v){try{y(i.next(v))}catch(w){d(w)}}function p(v){try{y(i.throw(v))}catch(w){d(w)}}function y(v){v.done?f(v.value):o(v.value).then(u,p)}y((i=i.apply(r,e||[])).next())})};const Rr=new q(an);function yi(r){return r!=null&&r.mnemonic&&r.mnemonic.phrase}class vo extends _i{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function mo(r,e,t){if(Ke(r,"crypto/cipher")==="aes-128-ctr"){const o=Qt(Ke(r,"crypto/cipherparams/iv")),f=new ut.Counter(o),d=new ut.ModeOfOperation.ctr(e,f);return G(d.decrypt(t))}return null}function dn(r,e){const t=Qt(Ke(r,"crypto/ciphertext"));if(j(qe(Tt([e.slice(16,32),t]))).substring(2)!==Ke(r,"crypto/mac").toLowerCase())throw new Error("invalid password");const o=mo(r,e.slice(0,16),t);o||Rr.throwError("unsupported cipher",q.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const f=e.slice(32,64),d=x0(o);if(r.address){let p=r.address.toLowerCase();if(p.substring(0,2)!=="0x"&&(p="0x"+p),dt(p)!==d)throw new Error("address mismatch")}const u={_isKeystoreAccount:!0,address:d,privateKey:j(o)};if(Ke(r,"x-ethers/version")==="0.1"){const p=Qt(Ke(r,"x-ethers/mnemonicCiphertext")),y=Qt(Ke(r,"x-ethers/mnemonicCounter")),v=new ut.Counter(y),w=new ut.ModeOfOperation.ctr(f,v),I=Ke(r,"x-ethers/path")||C0,k=Ke(r,"x-ethers/locale")||"en",F=G(w.decrypt(p));try{const C=Hr(F,k),M=et.fromMnemonic(C,null,k).derivePath(I);if(M.privateKey!=u.privateKey)throw new Error("mnemonic mismatch");u.mnemonic=M.mnemonic}catch(C){if(C.code!==q.errors.INVALID_ARGUMENT||C.argument!=="wordlist")throw C}}return new vo(u)}function hn(r,e,t,i,o){return G(Kr(r,e,t,i,o))}function go(r,e,t,i,o){return Promise.resolve(hn(r,e,t,i,o))}function un(r,e,t,i,o){const f=qr(e),d=Ke(r,"crypto/kdf");if(d&&typeof d=="string"){const u=function(p,y){return Rr.throwArgumentError("invalid key-derivation function parameters",p,y)};if(d.toLowerCase()==="scrypt"){const p=Qt(Ke(r,"crypto/kdfparams/salt")),y=parseInt(Ke(r,"crypto/kdfparams/n")),v=parseInt(Ke(r,"crypto/kdfparams/r")),w=parseInt(Ke(r,"crypto/kdfparams/p"));(!y||!v||!w)&&u("kdf",d),y&y-1&&u("N",y);const I=parseInt(Ke(r,"crypto/kdfparams/dklen"));return I!==32&&u("dklen",I),i(f,p,y,v,w,64,o)}else if(d.toLowerCase()==="pbkdf2"){const p=Qt(Ke(r,"crypto/kdfparams/salt"));let y=null;const v=Ke(r,"crypto/kdfparams/prf");v==="hmac-sha256"?y="sha256":v==="hmac-sha512"?y="sha512":u("prf",v);const w=parseInt(Ke(r,"crypto/kdfparams/c")),I=parseInt(Ke(r,"crypto/kdfparams/dklen"));return I!==32&&u("dklen",I),t(f,p,w,I,y)}}return Rr.throwArgumentError("unsupported key-derivation function","kdf",d)}function yo(r,e){const t=JSON.parse(r),i=un(t,e,hn,Wr.syncScrypt);return dn(t,i)}function wo(r,e,t){return po(this,void 0,void 0,function*(){const i=JSON.parse(r),o=yield un(i,e,go,Wr.scrypt,t);return dn(i,o)})}function Mo(r,e,t,i){try{if(dt(r.address)!==x0(r.privateKey))throw new Error("address/privateKey mismatch");if(yi(r)){const M=r.mnemonic;if(et.fromMnemonic(M.phrase,null,M.locale).derivePath(M.path||C0).privateKey!=r.privateKey)throw new Error("mnemonic mismatch")}}catch(M){return Promise.reject(M)}typeof t=="function"&&!i&&(i=t,t={}),t||(t={});const o=G(r.privateKey),f=qr(e);let d=null,u=null,p=null;if(yi(r)){const M=r.mnemonic;d=G($r(M.phrase,M.locale||"en")),u=M.path||C0,p=M.locale||"en"}let y=t.client;y||(y="ethers.js");let v=null;t.salt?v=G(t.salt):v=M0(32);let w=null;if(t.iv){if(w=G(t.iv),w.length!==16)throw new Error("invalid iv")}else w=M0(16);let I=null;if(t.uuid){if(I=G(t.uuid),I.length!==16)throw new Error("invalid uuid")}else I=M0(16);let k=1<<17,F=8,C=1;return t.scrypt&&(t.scrypt.N&&(k=t.scrypt.N),t.scrypt.r&&(F=t.scrypt.r),t.scrypt.p&&(C=t.scrypt.p)),Wr.scrypt(f,v,k,F,C,64,i).then(M=>{M=G(M);const T=M.slice(0,16),U=M.slice(16,32),K=M.slice(32,64),H=new ut.Counter(w),O=new ut.ModeOfOperation.ctr(T,H),$=G(O.encrypt(o)),X=qe(Tt([U,$])),Z={address:r.address.substring(2).toLowerCase(),id:ho(I),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:j(w).substring(2)},ciphertext:j($).substring(2),kdf:"scrypt",kdfparams:{salt:j(v).substring(2),n:k,dklen:32,p:C,r:F},mac:X.substring(2)}};if(d){const re=M0(16),ie=new ut.Counter(re),J=new ut.ModeOfOperation.ctr(K,ie),ne=G(J.encrypt(d)),g=new Date,n=g.getUTCFullYear()+"-"+y0(g.getUTCMonth()+1,2)+"-"+y0(g.getUTCDate(),2)+"T"+y0(g.getUTCHours(),2)+"-"+y0(g.getUTCMinutes(),2)+"-"+y0(g.getUTCSeconds(),2)+".0Z";Z["x-ethers"]={client:y,gethFilename:"UTC--"+n+"--"+Z.address,mnemonicCounter:j(re).substring(2),mnemonicCiphertext:j(ne).substring(2),path:u,locale:p,version:"0.1"}}return JSON.stringify(Z)})}function So(r,e,t){if(cn(r)){t&&t(0);const i=on(r,e);return t&&t(1),Promise.resolve(i)}return sn(r)?wo(r,e,t):Promise.reject(new Error("invalid JSON wallet"))}function Ao(r,e){if(cn(r))return on(r,e);if(sn(r))return yo(r,e);throw new Error("invalid JSON wallet")}const _o="wallet/5.8.0";var wi=function(r,e,t,i){function o(f){return f instanceof t?f:new t(function(d){d(f)})}return new(t||(t=Promise))(function(f,d){function u(v){try{y(i.next(v))}catch(w){d(w)}}function p(v){try{y(i.throw(v))}catch(w){d(w)}}function y(v){v.done?f(v.value):o(v.value).then(u,p)}y((i=i.apply(r,e||[])).next())})};const n0=new q(_o);function Eo(r){return r!=null&&We(r.privateKey,32)&&r.address!=null}function Po(r){const e=r.mnemonic;return e&&e.phrase}class f0 extends Dr{constructor(e,t){if(super(),Eo(e)){const i=new s0(e.privateKey);if(Y(this,"_signingKey",()=>i),Y(this,"address",x0(this.publicKey)),this.address!==dt(e.address)&&n0.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),Po(e)){const o=e.mnemonic;Y(this,"_mnemonic",()=>({phrase:o.phrase,path:o.path||C0,locale:o.locale||"en"}));const f=this.mnemonic,d=et.fromMnemonic(f.phrase,null,f.locale).derivePath(f.path);x0(d.privateKey)!==this.address&&n0.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else Y(this,"_mnemonic",()=>null)}else{if(s0.isSigningKey(e))e.curve!=="secp256k1"&&n0.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),Y(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const i=new s0(e);Y(this,"_signingKey",()=>i)}Y(this,"_mnemonic",()=>null),Y(this,"address",x0(this.publicKey))}t&&!Or.isProvider(t)&&n0.throwArgumentError("invalid provider","provider",t),Y(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new f0(this,e)}signTransaction(e){return a0(e).then(t=>{t.from!=null&&(dt(t.from)!==this.address&&n0.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const i=this._signingKey().signDigest(qe(li(t)));return li(t,i)})}signMessage(e){return wi(this,void 0,void 0,function*(){return Qr(this._signingKey().signDigest(Hn(e)))})}_signTypedData(e,t,i){return wi(this,void 0,void 0,function*(){const o=yield Ze.resolveNames(e,t,i,f=>(this.provider==null&&n0.throwError("cannot resolve ENS names without a provider",q.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:f}),this.provider.resolveName(f)));return Qr(this._signingKey().signDigest(Ze.hash(o.domain,t,o.value)))})}encrypt(e,t,i){if(typeof t=="function"&&!i&&(i=t,t={}),i&&typeof i!="function")throw new Error("invalid callback");return t||(t={}),Mo(this,e,t,i)}static createRandom(e){let t=M0(16);e||(e={}),e.extraEntropy&&(t=G(A0(qe(Tt([t,e.extraEntropy])),0,16)));const i=Hr(t,e.locale);return f0.fromMnemonic(i,e.path,e.locale)}static fromEncryptedJson(e,t,i){return So(e,t,i).then(o=>new f0(o))}static fromEncryptedJsonSync(e,t){return new f0(Ao(e,t))}static fromMnemonic(e,t,i){return t||(t=C0),new f0(et.fromMnemonic(e,null,i).derivePath(t))}}export{f0 as W,Io as i};
